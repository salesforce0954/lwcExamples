<!--
 * @Description: Joint Application Personal Details page (Staff UI)
 *
 * @Author: Mike Lasala

 * @Date Created: 25.OCT.2013

 * @History:

   =====================================================================

       10-25-13: Created - Mike

       12-03-13: Added EIDV - Mike

       01-13-14: Modified values to accommodate wrapper class - Mike

       01-15-14: Refactored Data Tools Address lookup and added State and country - Campbell

       01-28-14: Refactored to cater component         

       2015-02-02: Changed Data Tool Method to support NZ Addresses 

       03-31-15: Updated Defect 593 - Updated jquery validate script to avoid conflict issues and random client-side validation appears - DYU

       04-10-15 : Comment-out the validation that reference to PRS - DYU

       04-11-15 : Updated Defect 635 - Clear out the delivery type and number in postal address when changing delivery

        types - DYU
       05-21-15: Updated Defect 1069 - Update function enablePrevious should display when less than 2 years for NZ or 3 years for AU - DYU
       
       08-04-15: DEFECT - BACKSPACE ISSUE FIX - MLASALA
       24-AUG-15: DEFECT - SUPERGOLD CARD COUNTRY ISSUE - MLASALA
   =====================================================================

 */ 

-->

<apex:page id="thePage" standardController="Application__c"

    extensions="APP_JointPersonalDetailsExt_INT" cache="false"

    showHeader="false">

    <input type="hidden" id="siteId" value="{!$CurrentPage.Name}" class="siteId"></input>
    <input type="hidden" id="region" value="{!Application__c.Brand_Lookup__r.Country__c}" class="region"></input>

    

    <!-- Data Tools Address Validation - Added by Fel Saliba 4-OCT-2013 -->



    <apex:stylesheet value="{!URLFOR($Resource.DataTools, '/DataTools/DataToolsPredictiveSearchPlugin-1.0.0.css')}" />

    <apex:stylesheet value="{!URLFOR($Resource.JQUERY10, '/jquery-ui-1.10.3.custom/css/redmond/jquery-ui-1.10.3.custom.min.css')}" />

    <apex:includeScript value="{!URLFOR($Resource.DataTools, '/DataTools/jquery-1.10.2.min.js')}" />

    <script>var jquery2 = jQuery.noConflict( true ); var res = true;</script>

    <apex:includeScript value="{!URLFOR($Resource.DataTools, '/DataTools/jquery.ui.core.js')}" />

    <apex:includeScript value="{!URLFOR($Resource.DataTools, '/DataTools/jquery.ui.widget.js')}" />

    <apex:includeScript value="{!URLFOR($Resource.DataTools, '/DataTools/jquery.ui.position.js')}" />

    <apex:includeScript value="{!URLFOR($Resource.DataTools, '/DataTools/jquery.ui.autocomplete.js')}" />

    <apex:includeScript value="{!URLFOR($Resource.DataTools, '/DataTools/jquery.ui.menu.js')}" />

    <apex:includeScript value="{!URLFOR($Resource.DataTools, '/DataTools/DataToolsPredictiveSearchPlugin-1.0.3.js')}" />



    <!-- Added by Fahad Akhtar March.02.2015 - JQUERY Validate Plugin 

     Notes: This must be placed here after the page definition to avoid with existing scripts.

    -->

     <apex:includeScript value="{!URLFOR($Resource.jQueryValidatePlugin, 'jquery-2.1.1.min.js')}"/>

    <script>var jquery1 = jQuery.noConflict( true );</script>

    <apex:includeScript value="{!URLFOR($Resource.jQueryValidatePlugin, 'jquery.validate.js')}"/>

    <apex:includeScript value="{!URLFOR($Resource.jQueryValidatePlugin, 'jquery.validate.min.js')}"/>

    <apex:includeScript value="{!URLFOR($Resource.jQueryValidatePlugin, 'additional-methods.js')}"/>

    <apex:includeScript value="{!$Resource.jqueryValidateScript}"/>

    

    <apex:stylesheet value="{!URLFOR($Resource.mobileoveride, '/css/mobile-overide.css')}" /> 



    <apex:stylesheet value="{!URLFOR($Resource.staffuicss, '/staff-ui.css')}" />

    <style>

.theForm {

    width: 125%;

}

</style>



    <!--<apex:form >



    </apex:form> -->

    <apex:form id="theForm" styleClass="validateMainForm theForm stui_PD">





        <apex:inputHidden id="flag" />

        <apex:inputHidden id="redirectTxt" value="{!redirectTo}" />

        <apex:inputhidden id="app1Age"

            value="{!applicantWrapper.applicant.Applicant_Age__c}" />

        <apex:inputhidden id="app2Age"

            value="{!applicant2Wrapper.applicant.Applicant_Age__c}" />

        <apex:inputhidden id="app1DBDocGen"

            value="{!applicantWrapper.applicant.Date_of_Birth_Doc_Gen__c}" />

        <apex:inputhidden id="app2DBDocGen"

            value="{!applicant2Wrapper.applicant.Date_of_Birth_Doc_Gen__c}" />



        <apex:actionFunction name="validateFields" action="{!pageRedirect}"

            rerender="theForm" oncomplete="executeLoad();" />



        <apex:pageBlock title="Personal Details" id="thePageBlock">



            <apex:pageMessages id="errorId" />



            <apex:tabPanel id="tabPanelId" switchType="client"

                styleClass="subtabBlue">



                <apex:tab label="Applicant 1" name="applicant1Tab">

                    <apex:pageblocksection id="Applicant__c-1" columns="1">

                        <c:APP_JointPersonalDetail_INT applicantWrapper="{!applicantWrapper}"

                            brandRegion="{!brand.Country__c}" applicantNo="1"

                            id="component-1" />

                    </apex:pageblocksection>

                </apex:tab>



                <apex:tab label="Applicant 2" name="applicant2Tab"

                    ontabenter="copyAddress();"

                    rendered="{!IF(applicantList.size>1,true,false)}">

                    <apex:pageblocksection id="Applicant__c-2" columns="1">

                        <c:APP_JointPersonalDetail_INT applicantWrapper="{!applicant2Wrapper}"

                            brandRegion="{!brand.Country__c}" applicantNo="2"

                            id="component-2" />

                    </apex:pageblocksection>

                </apex:tab>

            </apex:tabPanel>



            <div align="center">

                <apex:image id="loadingGif"

                    url="{!URLFOR($Resource.getheme, 'images/loading-bar.gif')}"

                    style="visibility:hidden;" />

                <br />

                <apex:actionStatus id="status2">

                    <apex:facet name="stop">

                        <apex:commandButton value="Save & Next" id="nextBtn"

                            styleClass="btnSubmit"

                            rendered="{!IF(Mode == 'Edit', false, true)}" rerender="false"

                            onclick="document.getElementById('thePage:theForm:thePageBlock:loadingGif').style.visibility='visible'; this.disabled='true';"

                            onComplete="checkApp('Next');return false;"

                            status="status2" />                     

                    </apex:facet>

                    <apex:facet name="start">

                        <apex:commandButton value="Processing..." disabled="true" />

                    </apex:facet>

                </apex:actionStatus>

                <apex:actionStatus id="status">

                    <apex:facet name="stop">

                        <apex:commandButton value="Save & Close" rerender="false"

                            id="saveBtn" styleClass="btnSubmit"

                            onclick="document.getElementById('thePage:theForm:thePageBlock:loadingGif').style.visibility='visible'; this.disabled='true';"

                            onComplete="checkApp('Save');return false;"

                            status="status" />

                    </apex:facet>

                    <apex:facet name="start">

                        <apex:commandButton value="Saving..." disabled="true" />

                    </apex:facet>

                </apex:actionStatus>

                <apex:actionStatus id="status4">

                    <apex:facet name="stop">

                        <apex:commandButton value="Back" id="backBtn1"

                            oncomplete="checkApp('Back');return false;" reRender="status4"

                            status="status4"

                            onclick="document.getElementById('thePage:theForm:thePageBlock:loadingGif').style.visibility='visible'" />

                    </apex:facet>

                    <apex:facet name="start">

                        <apex:commandButton value="Processing..." disabled="true" />

                    </apex:facet>

                </apex:actionStatus>

                <apex:actionStatus id="status3">

                    <apex:facet name="stop">

                        <apex:commandButton value="Cancel" id="closeBtn"

                            reRender="status3" status="status3"

                            onclick="document.getElementById('thePage:theForm:thePageBlock:loadingGif').style.visibility='visible'"

                            oncomplete="checkApplicantFields('Cancel');" />

                    </apex:facet>

                    <apex:facet name="start">

                        <apex:commandButton value="Cancelling..." disabled="true" />

                    </apex:facet>

                </apex:actionStatus>

            </div>

        </apex:pageBlock>

    </apex:form>



    <script type="text/javascript">
    
    
        //Added by TXU - Function to be used by NZ data tool that returns the selected index 
        function returnSelectedIndex(el, text){
            
            for(var i=0; i<el.options.length; i++){
                if(el.options[i].text == text){
                    el.selectedIndex = i;
                    break;
                }
            }
        }   

        //Added by DYU 01-04-15 - Function after client side validations has been triggered

        function checkApp(val){

            //back button

            if(val == 'Back'){

                checkApplicantFields(val);

            }

            //save or next button

            if(res && (val == 'Save' || val == 'Next')){

                checkApplicantFields(val);

                if(val == 'Save'){

                    enableDriver(); 

                }

            }else{

                    document.getElementById('thePage:theForm:thePageBlock:loadingGif').style.visibility='hidden';

            }

            //enable save and next button

            if(val == 'Next')

                document.getElementById('thePage:theForm:thePageBlock:nextBtn').disabled = false;

            //enable save and close button

            if(val == 'Save')

                document.getElementById('thePage:theForm:thePageBlock:saveBtn').disabled = false

        }

                            

        var j$ = jquery1;

        

        function DataToolMethodNZ(){

            j$(function() {

                j$("input.datatools").each(function(index, callingitem){    

                    console.log(callingitem);

                    //For PO Box we need to call a different web service therefore for Postal Address we will treat it differently  

                    if(callingitem.id != "thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulPAdd" && callingitem.id != "thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulPAdd"){      

                        j$(callingitem).autocomplete({

                            source: function( request, response ) {

                                j$.ajax({

                                    url: "{!NZEndpoint}",

                                    dataType: "jsonp",

                                    type: "GET",

                                    contentType: "application/json; charset=utf-8",

                                    data: {OutputFormat:"json", ResultLimit:10, AddressLine:request.term, Method:"DataTools.Capture.Address.Predictive.NzPaf.SearchAddress", RequestKey:"{!NZRequestKey}", DepartmentCode:"CloudSherp"},

                                    success: function( data ) {

                                        response( j$.map( data.DtResponse.Result, function( item ) {

                                            var Output = (item.AddressLine + ", " + item.Suburb + ", " + item.TownCityMailtown + ", " + item.Postcode);

                                            return {

                                                label: Output ,

                                                value: Output ,

                                                Output: Output,

                                                RecordId: item.RecordId,

                                                AddressLine: item.AddressLine

                                            }

                                        }));

                                    }

                                });

                            },

                            select: function(event, ui){

                                //Retrieve detailed address

                                j$.ajax({

                                    url: "{!NZEndpoint}",

                                    dataType: "jsonp",

                                    type: "GET",

                                    contentType: "application/json; charset=utf-8",

                                    data: {Method:"DataTools.Capture.Address.Predictive.NzPaf.RetrieveAddress", RecordId:ui.item.RecordId, RequestId:"", RequestKey:"{!NZRequestKey}", DepartmentCode:"CloudSherp", OutputFormat:"json" },

                                    success: function( data ) { 

                                         

                                         console.log(data.DtResponse.Result);

                                                                    

                                         j$.map(data.DtResponse.Result, function (item) {

                                    

                                            console.log(item);

        

                                            if(callingitem.id == "thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulAdd"){

                                            

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value = item.UnitNumber;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = item.StreetNumber1 + item.StreetNumberSuffix1;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value = item.StreetName;                                         

                                                
                                                returnSelectedIndex( document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c'), item.StreetType);
                                                //j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Res__c option:contains("+ item.StreetType +")").attr('selected', true);

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Res__c').value = item.TownCityMailtown;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = item.Suburb;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value = item.Postcode;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value = "New Zealand";

                                                

                                                if(item.AddressType == "RURAL"){

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = "RD"+item.RdNumber;

                                                }

        

                                            } else if (callingitem.id == "thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulPreAdd") {

                                            

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Pre__c').value = item.UnitNumber;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pre__c').value = item.StreetNumber1 + item.StreetNumberSuffix1;

                                                returnSelectedIndex( document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Pre__c'), item.StreetType);
                                                
                                                //j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pre__c option:contains("+ item.StreetType +")").attr('selected', true);

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Previous_Town_City__c').value = item.TownCityMailtown;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Pre__c').value = item.StreetName;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Pre__c').value = item.Suburb;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Pre__c').value = item.Postcode;  

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pre__c').value = "New Zealand";  

                                                

                                                if(item.AddressType == "RURAL"){

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Pre__c').value = "RD"+item.RdNumber;

                                                }     

                                            

                                            } else if(callingitem.id == "thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulAdd"){

                                            

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value = item.UnitNumber;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = item.StreetNumber1 + item.StreetNumberSuffix1;                                    

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value = item.StreetName;

                                                returnSelectedIndex( document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c'), item.StreetType);
                                                
                                                //j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Res__c option:contains("+ item.StreetType +")").attr('selected', true);

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Res__c').value = item.TownCityMailtown;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = item.Suburb;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value = item.Postcode;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value = "New Zealand";

                                                

                                                if(item.AddressType == "RURAL"){

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = "RD"+item.RdNumber;

                                                }

        

                                            } else if (callingitem.id == "thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulPreAdd") {

                                            

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Pre__c').value = item.UnitNumber;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pre__c').value = item.StreetNumber1 + item.StreetNumberSuffix1;

                                                returnSelectedIndex( document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Pre__c'), item.StreetType);
                                                
                                                //j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pre__c option:contains("+ item.StreetType +")").attr('selected', true);

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Previous_Town_City__c').value = item.TownCityMailtown;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Pre__c').value = item.StreetName;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Pre__c').value = item.Suburb;

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Pre__c').value = item.Postcode;  

                                                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pre__c').value = "New Zealand";    

                                                

                                                if(item.AddressType == "RURAL"){

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Pre__c').value = "RD"+item.RdNumber;

                                                }   

                                            

                                            }

                                        }); 

                                        if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pos__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pre__c.Accessible})

                                        disableState();     

                                    }

                                }); 

                                            

                            }                       

                        });

                    }else{

                        var method;

                        //For Postal Address

                        j$(callingitem).autocomplete({

                            source: function( request, response ) {

                                //If input address is "PO BOX" or "Private Bag" call NZPaf, otherwise call NzKms

                                if(request.term.substring(0,6).toLowerCase() == "po box" || request.term.substring(0,11).toLowerCase() == "private bag"){

                                    method = "DataTools.Capture.Address.Predictive.NzPaf.SearchAddress";                                

                                }else{

                                    method = "DataTools.Capture.Address.Predictive.NzPaf.SearchAddress"

                                }

                                console.log("Method 1 : " + method);

                                j$.ajax({

                                    url: "{!NZEndpoint}",

                                    dataType: "jsonp",

                                    type: "GET",

                                    contentType: "application/json; charset=utf-8",

                                    data: {OutputFormat:"json", ResultLimit:10, AddressLine:request.term, Method:method, RequestKey:"{!NZRequestKey}", DepartmentCode:"CloudSherp"},

                                    success: function( data ) {

                                        response( j$.map( data.DtResponse.Result, function( item ) {

                                            var Output = (item.AddressLine + ", " + item.Suburb + ", " + item.TownCityMailtown + ", " + item.Postcode);

                                            return {

                                                label: Output ,

                                                value: Output ,

                                                Output: Output,

                                                RecordId: item.RecordId,

                                                AddressLine: item.AddressLine

                                            }

                                        }));

                                    }

                                });

                            },

                            select: function(event, ui){

                                var retrieveMethod;

                                if(method == "DataTools.Capture.Address.Predictive.NzPaf.SearchAddress"){

                                    retrieveMethod = "DataTools.Capture.Address.Predictive.NzPaf.RetrieveAddress";

                                }else{

                                    retrieveMethod = "DataTools.Capture.Address.Predictive.NzPaf.RetrieveAddress";

                                }

                                //Retrieve detailed address

                                j$.ajax({

                                    url: "{!NZEndpoint}",

                                    dataType: "jsonp",

                                    type: "GET",

                                    contentType: "application/json; charset=utf-8",

                                    data: {Method:retrieveMethod, RecordId:ui.item.RecordId, RequestId:"", RequestKey:"{!NZRequestKey}", DepartmentCode:"CloudSherp", OutputFormat:"json" },

                                    success: function( data ) { 

                                         

                                         console.log(data.DtResponse.Result);

                                                                    

                                         j$.map(data.DtResponse.Result, function (item) {

                                    

                                            console.log(item);

        

                                            if (callingitem.id == "thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulPAdd") {

                                            

                                                //if PO BOX

                                                if(item.AddressType == "BOX"){

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = "PO Box";

                                                    enablePostalFieldsByType(document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c'));

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c').value = item.PostBoxNumber;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Pos__c').value = item.LobbyName;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.TownCityMailtown;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.Postcode;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = "New Zealand";                                                

                                                }else if (item.AddressType == "BAG"){

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = "Private Bag";

                                                    enablePostalFieldsByType(document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c'));

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c').value = item.PostBoxNumber;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Pos__c').value = item.LobbyName;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.TownCityMailtown;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.Postcode;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = "New Zealand";                                                                                                                            

                                                }else{

                                                    console.log('Residential');

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = "Residential";

                                                    enablePostalFieldsByType(document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c'));

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c').value = item.UnitNumber;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = item.StreetNumber1 + item.StreetNumberSuffix1;                                              
                                                    
                                                    returnSelectedIndex( document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c'), item.StreetType);
                                                    
                                                    //j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c option:contains("+ item.StreetType +")").attr('selected', true);

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.TownCityMailtown;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Pos__c').value = item.StreetName;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Pos__c').value = item.Suburb;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.Postcode;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = "New Zealand"; 

                                                    

                                                    if(item.AddressType == "RURAL"){

                                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Pos__c').value = "RD"+item.RdNumber;

                                                    }

                                                }

                                            

                                            } else if (callingitem.id == "thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulPAdd") {

                                            

                                                if(item.AddressType == "BOX"){

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = "PO Box";

                                                    enablePostalFieldsByType(document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c'));

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c').value = item.PostBoxNumber;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Pos__c').value = item.LobbyName;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.TownCityMailtown;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.Postcode;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = "New Zealand";                                                

                                                }else if (item.AddressType == "BAG"){

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = "Private Bag";

                                                    enablePostalFieldsByType(document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c'));

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c').value = item.PostBoxNumber;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Pos__c').value = item.LobbyName;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.TownCityMailtown;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.Postcode;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = "New Zealand";                                                                                                                            

                                                }else{

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = "Residential";

                                                    enablePostalFieldsByType(document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c'));

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c').value = item.UnitNumber;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = item.StreetNumber1 + item.StreetNumberSuffix1;

                                                    returnSelectedIndex( document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c'), item.StreetType);
                                                    
                                                    //j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c option:contains("+ item.StreetType +")").attr('selected', true);

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.TownCityMailtown;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Pos__c').value = item.StreetName;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Pos__c').value = item.Suburb;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.Postcode;

                                                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = "New Zealand"; 

                                                    

                                                    if(item.AddressType == "RURAL"){

                                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Pos__c').value = "RD"+item.RdNumber;

                                                    }

                                                }

                                            

                                            }

                                        }); 

                                        if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pos__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pre__c.Accessible})

                                        disableState();     

                                    }

                                }); 

                                            

                            }                       

                        });

                    }

                });

            });

        }

        

        

        function DataToolMethod(){
            j$(function() {

                j$("input.datatools").each(function(index, callingitem){


                    j$(callingitem).DataToolsPredictiveSearchPlugin({

                        SearchType:"DtSearchAddressLinePredictive",

                        DataToolsCloudServer:"{!webServer}",

                        UrlKey1:"{!URLKey}", UrlKey2:"", UrlKey3:"", UrlKey4:"", UrlKey5:"",

                        Layout:"SingleLine",

                        DisplayOnlyCountryCode:"{!brand.Country__c}"

                    }).bind("Selected", function(event, item) {

                        //console.log('Selected ITEM:'+item.toJSON());

                        var ws = '';
                      
                        if(item.country_code == 'AU'){

                            ws = 'DtSearchAddressLineAMAS_jsonp';

                        } else if(item.country_code == 'NZ'){

                            ws = 'DtSearchNzAddressLine_jsonp';

                        }

                        

                        j$.ajax({

                            url: "{!webServerWebService}"+ws,

                            dataType: "jsonp",

                            crossDomain: true,

                            data: { AddressLine: item.address_line, LocalityLine: (item.locality + " " + item.state + " " + item.postcode)  ,

                                UrlKey1:"{!URLKey}", UrlKey2:"", UrlKey3:"", UrlKey4:"", UrlKey5:""

                            },

                            success: function (data) {

                                //MLASALA 04-MAY-2016   Fix Pack 10052016 Item 18
                                //Datatools – after selecting the address, the suburb, state & postcode are not copied into the search field. This has regressed.  (AU Only)
                                callingitem.value = item.address_line+' '+item.locality+' '+item.state+' '+item.postcode;

                                j$.map(data.items, function (item) {

                                

                                    //console.log('Returned Item:'+item.toJSON());



                                    if(callingitem.id == "thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulAdd"){

                                    

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value = item.unit_number;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = item.street_number_1 + item.street_number_suffix_1;

                                        

                                        if(item.street_number_2 != ''){

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = item.street_number_1 + item.street_number_suffix_1 + '-' + item.street_number_2 + item.street_number_suffix_2;                                        

                                        }

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value = item.street_name;

                                        

                                        if(item.country_code == 'AU'){

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value = item.street_type;

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Res__c').value = item.state;                           

                                        } else if(item.country_code == 'NZ'){

                                            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Res__c option:contains("+ item.street_type +")").attr('selected', true);

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Res__c').value = item.state;

                                        }



                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = item.locality;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value = item.postcode;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value = item.country;



                                    } else if (callingitem.id == "thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulPAdd") {

                                    

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c').value = item.unit_number;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = item.street_number_1 + item.street_number_suffix_1;

                                        

                                        if(item.street_number_2 != ''){

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = item.street_number_1 + item.street_number_suffix_1 + '-' + item.street_number_2 + item.street_number_suffix_2;                                        

                                        }

                                        

                                        if(item.country_code == 'AU'){

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c').value = item.street_type;

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Pos__c').value = item.state;                                      

                                        } else if(item.country_code == 'NZ'){

                                            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c option:contains("+ item.street_type +")").attr('selected', true);

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.state;

                                        }



                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Pos__c').value = item.street_name;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Pos__c').value = item.locality;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.postcode;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = item.country; 

                                    

                                    } else if (callingitem.id == "thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulPreAdd") {

                                    

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Pre__c').value = item.unit_number;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pre__c').value = item.street_number_1 + item.street_number_suffix_1;

                                        if(item.street_number_2 != ''){

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pre__c').value = item.street_number_1 + item.street_number_suffix_1 + '-' + item.street_number_2 + item.street_number_suffix_2;                                        

                                        }



                                        if(item.country_code == 'AU'){

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Pre__c').value = item.street_type;

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Pre__c').value = item.state;                                      

                                        } else if(item.country_code == 'NZ'){

                                            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pre__c option:contains("+ item.street_type +")").attr('selected', true);

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Previous_Town_City__c').value = item.state;

                                        }



                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Pre__c').value = item.street_name;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Pre__c').value = item.locality;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Pre__c').value = item.postcode;  

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pre__c').value = item.country;       

                                    

                                    } else if(callingitem.id == "thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulAdd"){

                                    

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value = item.unit_number;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = item.street_number_1 + item.street_number_suffix_1;

                                        

                                        if(item.street_number_2 != ''){

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = item.street_number_1 + item.street_number_suffix_1 + '-' + item.street_number_2 + item.street_number_suffix_2;                                        

                                        }

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value = item.street_name;

                                        

                                        if(item.country_code == 'AU'){

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value = item.street_type;

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Res__c').value = item.state;                           

                                        } else if(item.country_code == 'NZ'){

                                            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Res__c option:contains("+ item.street_type +")").attr('selected', true);

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Res__c').value = item.state;

                                        }



                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = item.locality;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value = item.postcode;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value = item.country;



                                    } else if (callingitem.id == "thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulPAdd") {

                                    

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c').value = item.unit_number;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = item.street_number_1 + item.street_number_suffix_1;

                                        

                                        if(item.street_number_2 != ''){

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = item.street_number_1 + item.street_number_suffix_1 + '-' + item.street_number_2 + item.street_number_suffix_2;                                        

                                        }

                                        

                                        if(item.country_code == 'AU'){

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c').value = item.street_type;

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Pos__c').value = item.state;                                      

                                        } else if(item.country_code == 'NZ'){

                                            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c option:contains("+ item.street_type +")").attr('selected', true);

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.state;

                                        }



                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Pos__c').value = item.street_name;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Pos__c').value = item.locality;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.postcode;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = item.country; 

                                    

                                    } else if (callingitem.id == "thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulPreAdd") {

                                    

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Pre__c').value = item.unit_number;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pre__c').value = item.street_number_1 + item.street_number_suffix_1;

                                        if(item.street_number_2 != ''){

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pre__c').value = item.street_number_1 + item.street_number_suffix_1 + '-' + item.street_number_2 + item.street_number_suffix_2;                                        

                                        }



                                        if(item.country_code == 'AU'){

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Pre__c').value = item.street_type;

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Pre__c').value = item.state;                                      

                                        } else if(item.country_code == 'NZ'){

                                            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pre__c option:contains("+ item.street_type +")").attr('selected', true);

                                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Previous_Town_City__c').value = item.state;

                                        }



                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Pre__c').value = item.street_name;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Pre__c').value = item.locality;

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Pre__c').value = item.postcode;  

                                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pre__c').value = item.country;       

                                    

                                    }

                                });

                                if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pos__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pre__c.Accessible})

                                    disableState();

                            }

                        });

                    }); <!-- end jquery DataToolsPredictiveSearchPlugin -->  

                }); <!-- end jquery(input.datatools) -->         

            });  <!-- end jquery function -->

        }

                

        function loadBirthdate() {

            

            var appBirthdate1 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Date_of_Birth__c').value;

            //alert(appBirthdate1);

            if(appBirthdate1!=null && appBirthdate1!='') {

                if(appBirthdate1.length>=8) {

                    var splitBday1 = appBirthdate1.split("-");

                    if(splitBday1.length==3) {

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:dd').value = splitBday1[0];

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:mm').value = splitBday1[1];

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:yyyy').value = splitBday1[2];

                    }

                }

            }

            

            if({!applicantList.size}>1){

                var appBirthdate2 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Date_of_Birth__c').value;

            

                if(appBirthdate2!=null && appBirthdate2!='') {

                    if(appBirthdate2.length>=8) {

                        var splitBday2 = appBirthdate2.split("-");

                        if(splitBday2.length==3) {

                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:dd').value = splitBday2[0];

                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:mm').value = splitBday2[1];

                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:yyyy').value = splitBday2[2];

                        }

                    }

                }

            }

        }

        

        function checkApplicantFields(action){

            document.getElementById('thePage:theForm:redirectTxt').value = action;

            

            var bdaydd1 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:dd').value;

            var bdaymm1 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:mm').value;

            var bdayyy1 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:yyyy').value;

            var workNumber = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Work__c').value;

            var homeNumber = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Home__c').value;

            

            var email = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Email_Address__c').value;

            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Email_Address__c').value = email.toLowerCase();

            

            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Date_of_Birth_WS__c').value = bdayyy1 + '-' + bdaymm1 + '-' + bdaydd1;



            validateDate(bdaydd1+'/'+bdaymm1+'/'+bdayyy1, 'thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Date_of_Birth__c','Primary');


            //alert('workNumber: '+workNumber);

            if(workNumber.length>=8) {

                var workAreaCode = workNumber.substring(0,2);

                var workWS = workNumber.substring(2);

                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Work_Area_Code__c').value = workAreaCode;

                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Work_WS__c').value = workWS;

            }else if(workNumber == ''){

                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Work_Area_Code__c').value = '';

                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Work_WS__c').value = '';

            }

            

            //alert('homeNumber: '+homeNumber);

            if(homeNumber.length>=8) {

                var homeAreaCode = homeNumber.substring(0,2);

                var homeWS = homeNumber.substring(2);

                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Home_Area_Code__c').value = homeAreaCode;

                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Home_WS__c').value = homeWS;

            }else if(homeNumber == ''){

                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Home_Area_Code__c').value = '';

                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Home_WS__c').value = '';

            }

            // Added by Adrian Recio
            // Populate Postal Property Name on Save of Applicant 1
            try{
                 var serDelType = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c');
                 var propertyName = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postal_Property_Name__c');
                 var serDelId = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c');
                 
                 populatePostalPropertyName(serDelType,propertyName,serDelId);
            }catch(e){
                console.log('Error in Postal Property Name Value Call:' + e);
            }


            if({!applicantList.size}>1){

            

                var bdaydd2 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:dd').value;

                var bdaymm2 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:mm').value;

                var bdayyy2 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:yyyy').value;

                var workNumber2 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Work__c').value;

                var homeNumber2 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Home__c').value;

        

                var email2 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Email_Address__c').value;

                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Email_Address__c').value = email2.toLowerCase();

        

                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Date_of_Birth_WS__c').value = bdayyy2 + '-' + bdaymm2 + '-' + bdaydd2;

                

                validateDate(bdaydd2+'/'+bdaymm2+'/'+bdayyy2, 'thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Date_of_Birth__c','Secondary');



                //alert('workNumber2: '+workNumber2);

                if(workNumber2.length>=8) {

                    var workAreaCode2 = workNumber2.substring(0,2);

                    var workWS2 = workNumber2.substring(2);

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Work_Area_Code__c').value = workAreaCode2;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Work_WS__c').value = workWS2;

                }else if(workNumber2 == ''){

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Work_Area_Code__c').value = '';

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Work_WS__c').value = '';

                }

                

                //alert('homeNumber2: '+homeNumber2);

                if(homeNumber2.length>=8) {

                    var homeAreaCode2 = homeNumber2.substring(0,2);

                    var homeWS2 = homeNumber2.substring(2);

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Home_Area_Code__c').value = homeAreaCode2;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Home_WS__c').value = homeWS2;

                }else if(homeNumber2 == ''){

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Home_Area_Code__c').value = '';

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Home_WS__c').value = '';

                }

                // Added by Adrian Recio
                // Populate Postal Property Name on Save of Applicant 2
                try{
                     var serDelType2 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c');
                     var propertyName2 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postal_Property_Name__c');
                     var serDelId2 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c');
                     
                     populatePostalPropertyName(serDelType2,propertyName2,serDelId2);
                }catch(e){
                    console.log('Error in Postal Property Name Value Call:' + e);
                }
                

            }



            validateFields();

        }

        function alertWithoutNotice(message){
            setTimeout(function(){
                alert(message);
            }, 1000);
        }

        // Created by Adrian Recio
        // Date: 21/5/2015
        // Description: Method to populate Postal Property Name of Applicant Object
        function populatePostalPropertyName(serDelType,propertyName,serDelId){
                try{
                    var serDelIdStr = '';

                    if(serDelId !=null){
                      serDelIdStr = serDelId.value;
                    }

                    if(serDelType.value == 'PO Box'){
                        propertyName.value = 'PO Box ' + serDelIdStr;
                    }else if(serDelType.value == 'Private Bag'){
                        propertyName.value = 'Private Bag ' + serDelIdStr;
                    }else if(serDelType.value == 'Response Bag'){
                        propertyName.value = 'Response Bag ' + serDelIdStr;
                    }else if(serDelType.value == 'Community Mail Box'){
                        propertyName.value = 'CMB ' + serDelIdStr;
                    }
                }catch(e){

                    console.log('Error in Property Name Population:' + e);
                }

        }

        function copyAddress(){

            if("{!brand.country__c}" == "NZ"){

                 if(document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulAdd').value == '' && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value == '' && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value == '' && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value == ''  && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value == '' && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value == '' && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value == '' && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Res__c').value == '' && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value == '' &&

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value == ''){

                    

                    var fullAdd = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulAdd').value;

                    var unit    = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value;

                    var line    = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value;

                    var stName  = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value;

                    var sType   = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value;

                    var sub     = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value;

                    var post    = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value;

                    var city    = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Res__c').value;

                    var count   = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value;

                    var prop    = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value;

                    

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulAdd').value = fullAdd;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value = unit;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = line;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value = stName;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value = sType;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = sub;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value = post;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Res__c').value = city;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value = count;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value = prop;

                }

            }

            if("{!brand.country__c}" == "AU"){

            

                if(document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulAdd').value == '' && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value == '' && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value == '' && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value == ''  && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value == '' && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value == '' && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value == '' && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Res__c').value == '' && 

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value == '' &&

                   document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value == ''){

                    

                    var fullAdd = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulAdd').value;

                    var unit    = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value;

                    var line    = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value;

                    var stName  = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value;

                    var sType   = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value;

                    var sub     = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value;

                    var post    = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value;

                    var stat    = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Res__c').value;

                    var count   = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value;

                    var prop    = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value;

                    

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulAdd').value = fullAdd;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value = unit;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = line;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value = stName;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value = sType;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = sub;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value = post;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Res__c').value = stat;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value = count;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value = prop;

                }

            }

            if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pos__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pre__c.Accessible})

                disableState();

        }


        //Updated by DYU 04-24-15 Defect 902 Display only necessary fields when po box is ticked
        //use $ObjectType.Applicant__c.fields.PO_Box__c.Accessible property to check the visibility
        function setRequiredPostalFields(){

            if({!$ObjectType.Applicant__c.fields.PO_Box__c.Accessible}){

                // var postalNo    = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:postalRadio:1');

                // var postalYes   = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:postalRadio:0');

                var pobox = document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Po_Box__c");

                var requiredClass = "requiredBlock2";

                var unrequiredClass = "requiredBlocknull";

                // if(postalYes.checked == true){

                    if(pobox.checked == false){

                    //hide required bars

                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosStNo").className = unrequiredClass ;

                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosSt").className = unrequiredClass ;

                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosStType").className = unrequiredClass ;

                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosSub").className  = unrequiredClass ;

                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosPost").className = unrequiredClass ;

                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosCountry").className = unrequiredClass ;

                    }

                // } else if(postalNo.checked == true){

                //     //show required bars

                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosStNo").className  = requiredClass ;

                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosSt").className  = requiredClass ;

                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosStType").className  = requiredClass ;

                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosSub").className  = requiredClass ;

                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosPost").className  = requiredClass ;

                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosCountry").className  = requiredClass ;

                // }else{

                //     //hide required bars

                //     document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosStNo").className = unrequiredClass ;

                //     document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosSt").className = unrequiredClass ;

                //     document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosStType").className = unrequiredClass ;

                //     document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosSub").className  = unrequiredClass ;

                //     document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosPost").className = unrequiredClass ;

                //     document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosCountry").className = unrequiredClass ;

                // }

                if({!applicantList.size}>1){

                    // var postalNo2   = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:postalRadio:1');

                    // var postalYes2  = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:postalRadio:0');

                    var PoBox2 = document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Po_Box__c");

                    // if(postalYes2.checked == true){

                        if(PoBox2.checked == false){

                        //hide required bars

                        document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosStNo").className = unrequiredClass ;

                        document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosSt").className = unrequiredClass ;

                        document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosStType").className = unrequiredClass ;

                        document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosSub").className  = unrequiredClass ;

                        document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosPost").className = unrequiredClass ;

                        document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosCountry").className = unrequiredClass ;

                        }

                    // }else if(postalNo2.checked == true){

    

                        //show required bars

                        document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosStNo").className  = requiredClass ;

                        document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosSt").className  = requiredClass ;

                        document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosStType").className  = requiredClass ;

                        document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosSub").className  = requiredClass ;

                        document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosPost").className  = requiredClass ;

                        document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosCountry").className  = requiredClass ;

                    // }else{

                    //     //hide required bars

                    //     document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosStNo").className = unrequiredClass ;

                    //     document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosSt").className = unrequiredClass ;

                    //     document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosStType").className = unrequiredClass ;

                    //     document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosSub").className  = unrequiredClass ;

                    //     document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosPost").className = unrequiredClass ;

                    //     document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosCountry").className = unrequiredClass ;

                    // }

                }

            }

        }

        function enablePostal(){


                // Refresh Applicant 1 Residential Postal Address Visibility
                handleResidentialFields();

                // var postalNo    = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:postalRadio:1');

                // var postalYes   = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:postalRadio:0');

                var fullAdd     = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulAdd').value;

                var unit        = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value;

                var line        = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value;

                var stName      = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value;

                var sType       = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value;

                var sub         = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value;

                var post        = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value;

                if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible}){

                    var stat        = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Res__c').value;

                }

                var count       = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value;

                var prop        = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value;

                if({!$ObjectType.Applicant__c.fields.City_Res__c.Accessible}){

                    var city = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Res__c').value;

                }

                

                // if(postalYes.checked == true){

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulPAdd').value = fullAdd;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c').value = unit;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = line;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Pos__c').value = stName;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c').value = sType;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Pos__c').value = sub;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = post;

                    if({!$ObjectType.Applicant__c.fields.State_Pos__c.Accessible}){

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Pos__c').value = stat;

                    }

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = count;

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postal_Property_Name__c').value = prop;

                    if({!$ObjectType.Applicant__c.fields.City_Res__c.Accessible}){

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = city;



                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = 'Residential';

                    }

                    

                    

                // }

                

                if({!applicantList.size}>1){

                    // Added by Adrian Recio 
                    // Refresh Applicant 2 Residential Postal Address Visibility
                    handleResidentialFieldsApp2();

                    // var postalNo2   = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:postalRadio:1');

                    // var postalYes2  = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:postalRadio:0');

                    var fullAdd2    = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulAdd').value;

                    var unit2       = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value;

                    var line2       = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value;

                    var stName2     = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value;

                    var sType2      = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value;

                    var sub2        = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value;

                    var post2       = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value;

                    if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible}){

                        var stat2       = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Res__c').value;

                    }

                    var count2      = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value;

                    var prop2       = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value;

                    if({!$ObjectType.Applicant__c.fields.City_Pos__c.Accessible}){

                        var city2 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Res__c').value;
                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = city2;
                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = 'Residential';

                    }       

                    // if(postalYes2.checked == true){

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulPAdd').value = fullAdd2;

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c').value = unit2;

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = line2;

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Pos__c').value = stName2;

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c').value = sType2;

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Pos__c').value = sub2;

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = post2;

                        if({!$ObjectType.Applicant__c.fields.State_Pos__c.Accessible}){

                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Pos__c').value = stat2;

                        }

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = count2;

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postal_Property_Name__c').value = prop2;                 







                    // }

                }

                if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pos__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pre__c.Accessible})

                    disableState();

                setRequiredPostalFields();

           // }

        }

        
        //Updated by DYU 05-20-2015 Defect 109 - Previous Address will dipslay if residential stay is less than 2 years for NZ
        // or less than 3 years for AU
        function enablePrevious(){

            var previousTime    = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Years_At_Addr__c').value;

            var previousMonths  = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Months_At_Addr__c').value;



            if(previousTime == '0' || previousTime == null){

                if(previousMonths != '0'){

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:previousAddressPanel').style.display = "block";

                } else {

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:previousAddressPanel').style.display = "none";

                }

            } else {
                if("{!brand.country__c}" == "NZ"){
                    if(previousTime < 2){

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:previousAddressPanel').style.display = "block";

                    } else {

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:previousAddressPanel').style.display = "none";

                    }
                }else{
                    if(previousTime < 3){

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:previousAddressPanel').style.display = "block";

                    } else {

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:previousAddressPanel').style.display = "none";

                    }
                }

            }

            

            if({!applicantList.size}>1){

                var previousTime2   = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Years_At_Addr__c').value;

                var previousMonths2 = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Months_At_Addr__c').value;

                

                if(previousTime2 == '0' || previousTime2 == null){

                    if(previousMonths2 != '0'){

                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:previousAddressPanel').style.display = "block";
                    }else{
                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:previousAddressPanel').style.display = "none";
                    }
                } else {
                    if("{!brand.country__c}" == "NZ"){
                        if(previousTime2 < 2){

                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:previousAddressPanel').style.display = "block";

                        }else{

                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:previousAddressPanel').style.display = "none";

                        }
                    }else{
                         if(previousTime2 < 3){

                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:previousAddressPanel').style.display = "block";

                        }else{

                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:previousAddressPanel').style.display = "none";

                        }
                    }

                }
            }

            if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pos__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pos__c.Accessible})
                disableState();
        }
        
        function enableDriver(){
            if("{!brand.country__c}" == "AU"){
                if(document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Drivers_Lic_Flg__c').checked){
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Drivers_Lic_No__c').value = '';
                
        
            
        
            
        
        
        
        
        
        
                
        
        
        
        
            
        
        
            

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Drivers_Lic_No__c').disabled = true;
                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:driverLic').style.visibility = "hidden";
                } else {
                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Drivers_Lic_No__c').disabled = false;
                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:driverLic').style.visibility = "visible";
                }
                if({!applicantList.size}>1){
                    if(document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Drivers_Lic_Flg__c').checked){
                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Drivers_Lic_No__c').value = '';
                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Drivers_Lic_No__c').disabled = true;
                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:driverLic').style.visibility = "hidden";
                    } else {
                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Drivers_Lic_No__c').disabled = false;
                        document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:driverLic').style.visibility = "visible";
                    }
                }
            }
        }
        function isCharacterKey(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode;
            if (charCode <= 32 || charCode == 189 || charCode == 45 || charCode == 39 || ((charCode >= 65 && charCode <= 90) || (charCode >= 97 && charCode <= 122)))
            return true;
            return false;
        }
        function isAlphabeticKey(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode;
            if (charCode <= 32 || charCode == 189 || ((charCode >= 65 && charCode <= 90) || (charCode >= 97 && charCode <= 122)))
            return true;
            return false;
        }
        function isNumberKey(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode;
            if (charCode != 46 && charCode > 31
              && (charCode < 48 || charCode > 57))
                return false;
            if(charCode == 46) {
                return false
            }
            else{
                return true;
            }
        }
        function isAlphaNumericKeyWithChar(evt){
            var charCode = (evt.which) ? evt.which : event.keyCode;
            var isAlpha = isAlphabeticKey(evt);
            var isNumeric = isNumberKey(evt);
            var flag = false;
            if(isAlpha == true || isNumeric == true || charcode == 189){
                flag = true;
            }
            return flag;
        }
        function isAlphaNumericKey(evt){
            var charCode = (evt.which) ? evt.which : event.keyCode;
            var isAlpha = isAlphabeticKey(evt);
            var isNumeric = isNumberKey(evt);
            var flag = false;
            if(isAlpha == true || isNumeric == true || charCode == 45 || charCode == 38 || charCode == 39){
                flag = true;
            }
            return flag;
        }
        //New Zealand Street Name validation includes letters, numbers, apostrophes, ampersand and hyphens
        function isAlphaNumericKeyStreetNZ(evt){
            var charCode = (evt.which) ? evt.which : event.keyCode;
            var isAlpha = isAlphabeticKey(evt);
            var isNumeric = isNumberKey(evt);
            var flag = false;
            if(isAlpha == true || isNumeric == true || charCode == 45 || charCode == 38 || charCode == 39){
                flag = true;
            }
            return flag;
        }
        function isStreetNZ(evt, country){
            if(country == 'AU'){
                return isAlphaNumericKey(evt);
            } else if(country == 'NZ'){
                return isAlphaNumericKeyStreetNZ(evt);
            }
        }
        //New Zealand Suburb validation includes letters, numbers and hyphens
        function isAlphaNumericKeySuburbNZ(evt, country){
            var flag = true;
            if(country == 'NZ'){
                var charCode = (evt.which) ? evt.which : event.keyCode;
                var isAlpha = isAlphabeticKey(evt);
                var isNumeric = isNumberKey(evt);
                flag = false;
                if(isAlpha == true || isNumeric == true || charCode == 45){
                    flag = true;
                }
                if('{!$ObjectType.Applicant__c.fields.Service_Delivery_Type__c.Accessible}' == 'true'){
                    var serviceDeliveryType = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value
                    if(serviceDeliveryType == 'Counter Delivery' || serviceDeliveryType == 'PO Box'){  
                        flag = checkLimit(document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Pos__c'), 9);
                    }
                }
            }
            return flag;
        }
        //New Zealand city validation includes letters  and hyphens
        function isAlphaNumericKeyCityNZ(evt){
            var charCode = (evt.which) ? evt.which : event.keyCode;
            var isAlpha = isAlphabeticKey(evt);
            var isNumeric = isNumberKey(evt);
            var flag = false;
            if(isAlpha == true || charCode == 45){
                flag = true;
            }
            return flag;
        }
        function isCityNZ(evt, country){
            if(country == 'AU'){
                return isAlphaNumericKey(evt);
            } else if(country == 'NZ'){
                return isAlphaNumericKeyCityNZ(evt);
            }
        }
        function isAlphaNumericNZ(evt){
            var charCode = (evt.which) ? evt.which : event.keyCode;
            var isAlpha = isAlphabeticKey(evt);
            var isNumeric = isNumberKey(evt);
            var flag = false;

            if((isAlpha == true || isNumeric == true) && (charCode != 32 || charCode != 8)){

                flag = true;
            }
            return flag;
        }
        function isIDNumber(type, evt){
            var flag = isAlphaNumericNZ(evt);
            if('{!$ObjectType.Applicant__c.fields.ID_Number__c.Accessible}' == 'true'){
                var idType;
                if(type.id == 'thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___ID_Number__c'){
                    idType = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Customer_ID_Type__c').value;
                } else if(type.id == 'thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___ID_Number__c'){
                    idType = document.getElementById('thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Customer_ID_Type__c').value;
                }

                if(idType == 'NZ Driver Licence'){  
                    //BEGIN MLASALA: 08/04/15 DEFECT: BACKSPACE ISSUE FIX
                    type.maxLength = 8;
                    // flag = checkLimit(type, 7);

                } else {
                    type.maxLength = 16;
                    // flag = checkLimit(type, 16);
                    //END MLASALA: 08/04/15 DEFECT: BACKSPACE ISSUE FIX

                }
            }
            return flag;
        }
        function isNumberKeyWithCharLimit(evt, field) {
            var charCode = (evt.which) ? evt.which : event.keyCode;
            if (charCode > 31 && (charCode < 48 || charCode > 57)) return false;
            return true;
        }
        function isFullAddressKey(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode;
            var isNumeric = isNumberKey(evt);
            if ((charCode <= 32 || charCode == 189 || charCode == 47 || ((charCode >= 65 && charCode <= 90) || (charCode >= 97 && charCode <= 122))) || isNumeric == true)
            return true;
            return false;
        }
        //Updated by DYU 04-24-15 Defect 902 Display only necessary fields when po box is ticked
        //use $ObjectType.Applicant__c.fields.PO_Box__c.Accessible property to check the visibility
        function enablePOBox(){

            if({!$ObjectType.Applicant__c.fields.PO_Box__c.Accessible}){
            //alert('pobox');
            var requiredClass = "requiredBlock2";
            var unrequiredClass = "requiredBlocknull";
            var pobox = document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Po_Box__c");
            if(pobox.checked == true){
                //hide the fields, change the property name label to PO Box
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posProperty").innerHTML = "PO Box";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posUnitNum").style.display = "none";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c").style.display = "none";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posStNum").style.display = "none";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c").style.display = "none";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posSt").style.display = "none";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Pos__c").style.display = "none";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posStType").style.display = "none";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c").style.display = "none";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:requiredBlocknullunit").style.display = "none";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posUnitNum").style.display = "none";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posStNum").style.display = "none";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosStNo").style.display = "none";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosSt").style.display = "none";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosStType").style.display = "none";

                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosSub").className  = requiredClass ;
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosPost").className = requiredClass ;
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosCountry").className = requiredClass ;
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:requiredBlocknullproperty").className = requiredClass;
            }else{
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posProperty").innerHTML = "Property Name";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posUnitNum").style.display = "inline-block";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c").style.display = "inline-block";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posStNum").style.display = "inline-block";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c").style.display = "inline-block";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posSt").style.display = "inline-block";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Pos__c").style.display = "inline-block";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posStType").style.display = "inline-block";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c").style.display = "inline-block";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:requiredBlocknullunit").style.display = "inline-block";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posUnitNum").style.display = "inline-block";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posStNum").style.display = "inline-block";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosStNo").style.display = "inline-block";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosSt").style.display = "inline-block";
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosStType").style.display = "inline-block";

                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosSub").className  = requiredClass ;
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosPost").className = requiredClass ;
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosCountry").className = requiredClass ;
                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:requiredBlocknullproperty").className = unrequiredClass;
            }
            var appSize = "{!applicantList.size}";
            if(appSize  > 1){
                var PoBox2 = document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Po_Box__c");
               if(PoBox2.checked == true){                    
                    //hide the fields, change the property name label to PO Box
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posProperty").innerHTML = "PO Box";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posUnitNum").style.display = "none";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c").style.display = "none";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posStNum").style.display = "none";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c").style.display = "none";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posSt").style.display = "none";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Pos__c").style.display = "none";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posStType").style.display = "none";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c").style.display = "none"; 
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:requiredBlocknullunit").style.display = "none";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posUnitNum").style.display = "none";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posStNum").style.display = "none";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosStNo").style.display = "none";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosSt").style.display = "none";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosStType").style.display = "none";

                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosSub").className  = requiredClass ;
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosPost").className = requiredClass ;
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosCountry").className = requiredClass ;
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:requiredBlocknullproperty").className = requiredClass;

               }else{
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posProperty").innerHTML = "Property Name";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posUnitNum").style.display = "inline-block";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c").style.display = "inline-block";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posStNum").style.display = "inline-block";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c").style.display = "inline-block";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posSt").style.display = "inline-block";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Pos__c").style.display = "inline-block";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posStType").style.display = "inline-block";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c").style.display = "inline-block"; 
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:requiredBlocknullunit").style.display = "inline-block";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posUnitNum").style.display = "inline-block";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posStNum").style.display = "inline-block";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosStNo").style.display = "inline-block";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosSt").style.display = "inline-block";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosStType").style.display = "inline-block";
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosSub").className  = requiredClass ;
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosPost").className = requiredClass ;
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosCountry").className = requiredClass ;
                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:requiredBlocknullproperty").className = unrequiredClass;
               }
            }

                disableState();
            }
        }
        //Updated by DYU 04-24-15 Defect 902 state is not disabled used the properties
        //$ObjectType.Applicant__c.fields.State_Res__c.Accessible,
        //$ObjectType.Applicant__c.fields.State_Pos__c.Accessible, $ObjectType.Applicant__c.fields.State_Pre__c.Accessible to check the visibility //of fields
        function disableState(){
            
            if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pos__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pre__c.Accessible}){

                var requiredClass = "requiredBlock2";
                var unrequiredClass = "requiredBlocknull";
    
                var applicant1ResCountry = "thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Res__c";
                var applicant1PosCountry = "thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pos__c";
                var applicant1PreCountry = "thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pre__c";
    
                var applicant2ResCountry = "thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c";
                var applicant2PosCountry = "thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pos__c";
                var applicant2PreCountry = "thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pre__c";
    
                var applicant1ResState = "thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Res__c";
                var applicant1PosState = "thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Pos__c";
                var applicant1PreState = "thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Pre__c";
    
                var applicant2ResState = "thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Res__c";
                var applicant2PosState = "thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Pos__c";
                var applicant2PreState = "thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Pre__c";
    
                var AusText = "Australia";
                
                if(document.getElementById(applicant1ResCountry).value == AusText){
                        document.getElementById(applicant1ResState).disabled = false;
                }else{
                    
                        document.getElementById(applicant1ResState).disabled = true;
                        document.getElementById(applicant1ResState).value = "";
                    
                }
    
                if(document.getElementById(applicant1PosCountry).value == AusText){
                    document.getElementById(applicant1PosState).disabled = false;
                }else{
                    document.getElementById(applicant1PosState).disabled = true;
                    document.getElementById(applicant1PosState).value = "";
                }
    
                if(document.getElementById(applicant1PreCountry).value == AusText){
                    document.getElementById(applicant1PreState).disabled = false;
                }
                else{
                    document.getElementById(applicant1PreState).value = "";
                    document.getElementById(applicant1PreState).disabled = true;
                }
    
                var appSize = "{!applicantList.size}";
                if(appSize > 1){
                    if(document.getElementById(applicant2ResCountry).value == AusText){
                        document.getElementById(applicant2ResState).disabled = false;
                    }else{
                        document.getElementById(applicant2ResState).disabled = true;
                        document.getElementById(applicant2ResState).value = "";
                    }
    
                    if(document.getElementById(applicant2PosCountry).value == AusText){
                        document.getElementById(applicant2PosState).disabled = false;
                    }else{
                        document.getElementById(applicant2PosState).disabled = true;
                        document.getElementById(applicant2PosState).value = "";
                    }
    
                    if(document.getElementById(applicant2PreCountry).value == AusText){
                        document.getElementById(applicant2PreState).disabled = false;
                    }else{
                        document.getElementById(applicant2PreState).disabled = true;
                        document.getElementById(applicant2PreState).value = "";
                    }
                }
            }
        }

        /*  Description: Method to validate date format
         *  Author: Mike Lasala
         *  Input: Date of birth
         *  Return: error/compute age
         */
        function validateDate(input, idString, applicant){
            var validformat = /^\d{2}\/\d{2}\/\d{4}$/;  //Basic check for format validity
            var dateValid = false;
            var day = input.split("/")[0];
            var month = input.split("/")[1];
            var year = input.split("/")[2];
            var compiledDate = new Date(year, month-1, day);
            
            //Valid format for Date of Birth field
            var dateText = input.replace(/\//g,'-');

            if (!validformat.test(input)){    //test against date regex
                dateValid = false;
            } 
            else { //Detailed check for valid date ranges
                if ((compiledDate.getMonth()+1!=month)||(compiledDate.getDate()!=day)||(compiledDate.getFullYear()!=year)){
                    dateValid = false;
                }
                else {
                    dateValid = true;
                }
            }
            
            //Updated by DYU 04-10-15 - comment-out the PRS validation
            /*if (dateValid == false){  //Set to perspecsys err if invalid
                document.getElementById(idString).value = 'ERR8';
            }
            else {
                getAge(compiledDate, dateText, idString, applicant);   //calculate age
            }*/
            //Added by DYU 04-10-15 - check if date is valid
            if (dateValid){ 
                getAge(compiledDate, dateText, idString, applicant);   //calculate age
            }
        }

        /*  Description: Method to calculate age
         *  Author: Mike Lasala
         *  Input: Date of birth
         *  Return: error/date of birth
         */
        function getAge(dateString, dateText, idString, applicant){
            var today = new Date();
            var birthDate = new Date(dateString);
            var age = today.getFullYear() - birthDate.getFullYear();
            var m = today.getMonth() - birthDate.getMonth();            
            var docGenFormat = dateText.replace(/-/g, "/");
            
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }
            if(applicant == 'Primary'){
                document.getElementById('thePage:theForm:app1Age').value = age;
                document.getElementById('thePage:theForm:app1DBDocGen').value = docGenFormat;
                
            }
            else{
                document.getElementById('thePage:theForm:app2Age').value = age;
                document.getElementById('thePage:theForm:app2DBDocGen').value = docGenFormat;
            }
            //Updated by DYU 04-10-15 - comment-out the PRS validation
            /*if(age < 18){
                document.getElementById(idString).value = 'ERR6';   //Set to perspecsys err if invalid
            }
            else if(age >= 110){
                document.getElementById(idString).value = 'ERR7';   //Set to perspecsys err if invalid
            }
            else {
                document.getElementById(idString).value = dateText;  //Valid age
            }*/

            //Added by DYU 04-10-15 - Change condition to check for valid age
            if(age > 17 && age < 110){
               document.getElementById(idString).value = dateText;  //Valid age 
            }
        }
        setTimeout(function(){executeLoad();}, 5);
        
        function executeLoad() {
           // alert('test');
            enablePrevious();
            enableDriver();
            loadBirthdate();
            enablePOBox();
            disableState();
            setRequiredPostalFields();
            //Changed Tony Xu for Defect #2
            if("{!brand.country__c}" == "AU"){
                DataToolMethod();
            }else{
                if("{!brand.country__c}" == "NZ"){

                    DataToolMethodNZ();

                }

            }

            hideFieldsForNZ();

            if("{!brand.country__c}" == "NZ"){

                var j$ = jquery1;

                j$('[id*=Applicant__c___Customer_ID_Type__c] option[value=""]').text("Please Select");

                j$('[id*=Applicant__c___Issuing_Country__c] option[value=""]').text("Please Select");

                var idType = document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Customer_ID_Type__c");

                var idType2 = '';

                var type1 = document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c").value;

                var type2 = '';

                

                handlePreSubmitFields(idType, 'true');

                

                if({!applicantList.size}>1){

                    type2 = document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c").value;

                    

                    idType2 = document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Customer_ID_Type__c");

                    handlePreSubmitFields(idType2, 'true'); 

                }

                enablePostalFieldsDefault(type1, type2);

            }

        }



        function hideFieldsForNZ(){

           if("{!brand.country__c}" == "AU"){

                

                j$("#resTownRow").hide();

                j$("#serviceTypeRow").hide();

                j$("#posRowServiceId").hide();

                j$("#rmvetrtdattr5").hide();

                j$("#prevCityRow").hide();

                

                //j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").hide();

                       

           }

           

        }

        

        function enablePostalFieldsDefault(val, val2){

            

            if(val == "PO Box" || val == "Community Mail Box" || val == "Counter Delivery" || val == "Response Bag" || val == "Private Bag"){

                    

                    //hide the unwanted fields

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posProperty").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Postal_Property_Name__c").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:requiredBlocknullproperty").hide();

                    

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posUnitNum").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Unit_No_Pos__c").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:requiredBlocknullunit").hide();

                    

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posUnitNum").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Unit_No_Pos__c").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:requiredBlocknullunit").hide();

                    

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posStNum").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosStNo").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_No_Pos__c").hide();

                    

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSt").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSt").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Pos__c").hide();

                    

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posStType").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosStType").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c").hide();

                        

                    j$("#rmvetrtdattr1").hide();

                    j$("#rmvetrtdattr2").hide();

                    j$("#rmvetrtdattr3").hide();

                    j$("#rmvetrtdattr4").hide();

                    j$("#rmvetrtdattr6").hide();
                    

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posId").show();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqServiceId").show();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Service_Delivery_Id__c").show();

                    j$("#posRowServiceId").show();

                    

                    var serviceIdName = '';

                    var suburbName  = '';

                    

                    if(val=="PO Box"){

                        serviceIdName = 'PO box number';

                        // Relabeled by Adrian Recio from 'Box lobby number' to 'Box lobby'
                        suburbName = 'Box lobby';

                        //required fields (Suburb)

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburb").show();

                        //j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").show();
                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").show();

                        j$("#rmvetrtdattr7").show();       

                    }

    

                   if(val=="Community Mail Box"){

                       serviceIdName = 'CMB number';

                       suburbName = 'Rural delivery number';

               

                       //optional fields (Suburb)

                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburb").show();

                       // Updated by Adrian Recio: required ui should be hidden for postal suburb if Service Delivery Type Community Mail Box
                       //j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").show();
                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").hide();

                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").show();

                       j$("#rmvetrtdattr7").show(); 

                        

                   }

        

                   if(val =="Counter Delivery" ){

                        

                       serviceIdName = 'Counter delivery number';

                       suburbName = 'Post Shop/Post Centre Number';

                     

                       //required fields (Suburb)

                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburb").show();

                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").show();

                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").show();

                       j$("#rmvetrtdattr7").show(); 

                   }

        

                   if(val=="Response Bag"){

                       serviceIdName = 'Response bag number';

                       suburbName = '';

                      

                       //hide fields (Suburb)

                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburb").hide();

                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").hide();

                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").hide();

                       j$("#rmvetrtdattr7").hide();

                   }

        

                   if(val=="Private Bag"){

                       serviceIdName = 'Private bag number';

                       //suburbName = 'Mail Centre';
                       suburbName = '';

                       // Updated by Adrian Recio
                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburb").hide();               
                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").hide();
                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").hide();  
                       j$("#rmvetrtdattr7").hide(); 

                   }

        

                   document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posId").innerHTML = serviceIdName;

                   //document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqServiceId").className = 'requiredClass';

                   document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posSuburb").innerHTML = suburbName;    

                    

                

                }else{

                    handleResidentialFields();

                }

                if({!applicantList.size}>1){

                

                   if(val2 == "PO Box" || val2 == "Community Mail Box" || val2 == "Counter Delivery" || val2 == "Response Bag" || val2 == "Private Bag"){

                        //hide the unwanted fields

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posProperty").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Postal_Property_Name__c").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:requiredBlocknullproperty").hide();

                        

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posUnitNum").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Unit_No_Pos__c").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:requiredBlocknullunit").hide();

                        

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posUnitNum").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Unit_No_Pos__c").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:requiredBlocknullunit").hide();

                        

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posStNum").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosStNo").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_No_Pos__c").hide();

                        

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSt").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSt").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Pos__c").hide();

                        

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posStType").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosStType").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c").hide();

                            

                        // j$("#rmvetrtdattr1").hide();

                        // j$("#rmvetrtdattr2").hide();

                        // j$("#rmvetrtdattr3").hide();

                        // j$("#rmvetrtdattr4").hide();

                        // j$("#rmvetrtdattr6").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posId").show();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqServiceId").show();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Service_Delivery_Id__c").show();

                        j$("#posRowServiceId").show();

                        

                        var serviceIdName = '';

                        var suburbName  = '';

                         

                        if(val2=="PO Box"){

                            serviceIdName = 'PO box number';

                            // Relabeled by Adrian Recio from 'Box lobby number' to 'Box lobby'
                            suburbName = 'Box lobby';

                            //required fields (Suburb)

                            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburb").show();

                            //j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").show();
                            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").hide();

                            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").show();

                            //document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosSub").className = 'requiredClass';

                            j$("#rmvetrtdattr7").show();       

                            

                        }

        

                       if(val2=="Community Mail Box"){

                           serviceIdName = 'CMB number';

                           suburbName = 'Rural delivery number';

                   

                           //optional fields (Suburb)

                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburb").show();

                           // Updated by Adrian Recio: required ui should be hidden for postal suburb if Service Delivery Type Community Mail Box

                           //j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").show();
                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").hide();

                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").show();

                           //document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosSub").className = 'unrequiredClass';

                           j$("#rmvetrtdattr7").show(); 

                            

                       }

            

                       if(val2 =="Counter Delivery" ){

                       

                           serviceIdName = 'Counter delivery number';

                           suburbName = 'Post Shop/Post Centre Number';

                         

                           //required fields (Suburb)

                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburb").show();

                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").show();

                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").show();

                            document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosSub").className = 'requiredClass';

                           j$("#rmvetrtdattr7").show(); 

                       }

            

                       if(val2=="Response Bag"){

                           serviceIdName = 'Response bag number';

                           suburbName = '';

                          

                           //hide fields (Suburb)

                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburb").hide();

                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").hide();

                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").hide();

                           j$("#rmvetrtdattr7").hide();

                       }

            

                       if(val2=="Private Bag"){

                           serviceIdName = 'Private bag number';

                           //suburbName = 'Mail Centre';
                           suburbName = '';

                           // Updated by Adrian Recio
                           // Mail Centre (Postal Suburb) , Removed based on user story DBHZL - 506
                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburb").hide();

                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").hide();

                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").hide();

                           j$("#rmvetrtdattr7").hide();                    

                       }

            

                       document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posId").innerHTML = serviceIdName;

                       document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posSuburb").innerHTML = suburbName;    

                    

                    }else{

                        handleResidentialFieldsApp2();

                    }

                }

             

        }

        

        function enablePostalFieldsByType(val){

            var serviceTypeId1 = "thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c";

            var serviceTypeId2 = "thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c";

            if((val!=null && val.id == serviceTypeId1) || val == serviceTypeId1){

            

                if(val.value == "PO Box" || val.value == "Community Mail Box" || val.value == "Counter Delivery" || val.value == "Response Bag" || val.value == "Private Bag"){

                    //hide the unwanted fields
                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posProperty").hide();

                    j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Postal_Property_Name__c').val('');

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Postal_Property_Name__c").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:requiredBlocknullproperty").hide();



                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posUnitNum").hide();

                    j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Unit_No_Pos__c').val('');

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Unit_No_Pos__c").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:requiredBlocknullunit").hide();
                    


                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posStNum").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosStNo").hide();

                    j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_No_Pos__c').val('');

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_No_Pos__c").hide();

                    

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSt").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSt").hide();

                    j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Pos__c').val('');

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Pos__c").hide();

                    

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posStType").hide();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosStType").hide();

                    j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c').val('');

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c").hide();

                        
                    // Hide Logic Removed by Adrian Recio
                    // Fix for missing address fields on reset of type
                    //j$("#rmvetrtdattr1").hide();

                    //j$("#rmvetrtdattr2").hide();

                    //j$("#rmvetrtdattr3").hide();

                    //j$("#rmvetrtdattr4").hide();

                    //j$("#rmvetrtdattr6").hide();

                    

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posId").show();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqServiceId").show();

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Service_Delivery_Id__c").show();

                    j$("#posRowServiceId").show();

                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c").value='';

                    document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Pos__c").value='';

                    //required fields (Suburb)

                    j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburb").show();
                    

                    // Added by Adrian Recio
                    if((val.value=="Community Mail Box" || val=="Community Mail Box") || (val.value=="PO Box" || val=="PO Box")){
                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").hide();
                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").show();
                        j$("#rmvetrtdattr7").show();
                    }else if(val.value=="Private Bag" || val=="Private Bag"){
                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").hide();
                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").hide();
                        j$("#rmvetrtdattr7").hide();
                    }else{
                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").show();
                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").show();
                        j$("#rmvetrtdattr7").show();
                    }

                    var serviceIdName = '';

                    var suburbName  = '';

                     

                    if(val.value=="PO Box" || val=="PO Box"){

                        serviceIdName = 'PO box number';

                        // Relabeled by Adrian Recio from 'Box lobby number' to 'Box lobby'
                        suburbName = 'Box lobby';

                        // Not Required
                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").hide();
                    }


                   if(val.value=="Community Mail Box" || val=="Community Mail Box"){

                       serviceIdName = 'CMB number';

                       suburbName = 'Rural delivery number';

                       // Updated by Adrian Recio
                       // Rural Delivery Number is not Required
                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").hide();
                   }


                   if(val.value=="Counter Delivery" || val =="Counter Delivery" ){

                       serviceIdName = 'Counter delivery number';

                       suburbName = 'Post Shop/Post Centre Number';
                   }


                   if(val.value=="Response Bag" || val=="Response Bag"){

                       serviceIdName = 'Response bag number';

                       suburbName = '';

                       //hide fields (Suburb)

                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburb").hide();

                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").hide();

                       j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c').val('');

                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").hide();

                       j$("#rmvetrtdattr7").hide();
                   }


                   if(val.value=="Private Bag" || val=="Private Bag"){

                       serviceIdName = 'Private bag number';

                       // Updated by Adrian Recio
                       // Hidden for Private Bag
                       //suburbName = 'Mail Centre';

                       suburbName = '';

                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburb").hide();

                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").hide();

                       j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c').val('');

                       j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").hide();

                       j$("#rmvetrtdattr7").hide();
                   }

                   document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posId").innerHTML = serviceIdName;

                   //document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqServiceId").className = 'requiredClass';

                   document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posSuburb").innerHTML = suburbName;

                   document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosSub").className = 'requiredBlock2';

                }else{

                    handleResidentialFields();

                }
            }

             if({!applicantList.size}>1){

                if((val!=null && val.id == serviceTypeId2) || val == serviceTypeId2){

                   if(val.value == "PO Box" || val.value == "Community Mail Box" || val.value == "Counter Delivery" || val.value == "Response Bag" || val.value == "Private Bag"){                          

                        //hide the unwanted fields

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posProperty").hide();

                        j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Postal_Property_Name__c').val('');

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Postal_Property_Name__c").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:requiredBlocknullproperty").hide();

                        

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posUnitNum").hide();

                        j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Unit_No_Pos__c').val('');

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Unit_No_Pos__c").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:requiredBlocknullunit").hide();

                        

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posStNum").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosStNo").hide();

                        j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_No_Pos__c').val('');

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_No_Pos__c").hide();


                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSt").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSt").hide();

                        j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Pos__c').val('');

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Pos__c").hide();

                        

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posStType").hide();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosStType").hide();

                        j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c').val('');

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c").hide();

                            

                        // Hide Logic Removed by Adrian Recio
                        // Fix for missing address fields on reset of type
                        //j$("#rmvetrtdattr1").hide();

                        //j$("#rmvetrtdattr2").hide();

                        //j$("#rmvetrtdattr3").hide();

                       // j$("#rmvetrtdattr4").hide();

                        //j$("#rmvetrtdattr6").hide();

                        

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posId").show();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqServiceId").show();

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Service_Delivery_Id__c").show();

                        j$("#posRowServiceId").show();
                        
                        
                        document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c").value='';

                        document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Pos__c").value='';


                        //required fields (Suburb)

                        j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburb").show();

                        // Added by Adrian Recio
                        if((val.value=="Community Mail Box" || val=="Community Mail Box") || (val.value=="PO Box" || val=="PO Box")){
                            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").hide();
                            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").show();
                             j$("#rmvetrtdattr7").show(); 
                        } if(val.value=="Private Bag" || val=="Private Bag"){
                            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").hide();
                             j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").hide();
                             j$("#rmvetrtdattr7").hide();  
                        }else{
                            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").show();
                             j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").show();
                             j$("#rmvetrtdattr7").show();  
                        }

                        var serviceIdName = '';

                        var suburbName  = '';


                        if(val.value=="PO Box" || val=="PO Box"){

                            serviceIdName = 'PO box number';

                           // Relabeled by Adrian Recio from 'Box lobby number' to 'Box lobby'

                            suburbName = 'Box lobby';

                            // Updated by Adrian Recio
                            // Box Lobby is not required
                            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").hide();
                        }


                       if(val.value=="Community Mail Box" || val=="Community Mail Box"){

                           serviceIdName = 'CMB number';

                           suburbName = 'Rural delivery number';

                           // Updated by Adrian Recio
                           // Rural Delivery Number is not required
                            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").hide();
                       }


                       if(val.value=="Counter Delivery" || val =="Counter Delivery" ){

                           serviceIdName = 'Counter delivery number';

                           suburbName = 'Post Shop/Post Centre Number';
                       }
            

                       if(val.value=="Response Bag" || val=="Response Bag"){

                           serviceIdName = 'Response bag number';

                           suburbName = '';

                           //hide fields (Suburb)

                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburb").hide();

                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").hide();

                           j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c').val('');
                           
                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").hide();

                           j$("#rmvetrtdattr7").hide();
                       }


                       if(val.value=="Private Bag" || val=="Private Bag"){

                           serviceIdName = 'Private bag number';

                           // Updated by Adrian Recio
                           // Hidden for Private Bag onload
                           //suburbName = 'Mail Centre';
                           suburbName = '';

                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburb").hide();

                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").hide();

                           j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c').val('');
                           
                           j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").hide();

                           j$("#rmvetrtdattr7").hide();
                       }

                       document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posId").innerHTML = serviceIdName;

                       document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posSuburb").innerHTML = suburbName;

                       document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosSub").className = 'requiredBlock2';

                    }else{

                        handleResidentialFieldsApp2();

                    }
                }
            }
        }


        //display postal address fields for residential address type applicant 1

        function handleResidentialFields(){



            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posProperty").show();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Postal_Property_Name__c").show();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:requiredBlocknullproperty").show();

                

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posUnitNum").show();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Unit_No_Pos__c").show();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:requiredBlocknullunit").show();

                

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posUnitNum").show();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Unit_No_Pos__c").show();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:requiredBlocknullunit").show();

                

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posStNum").show();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosStNo").show();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_No_Pos__c").show();

                

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSt").show();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSt").show();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Pos__c").show();

                

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posStType").show();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosStType").show();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c").show();


                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburb").show();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").show();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").show();



                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posId").hide();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqServiceId").hide();

                j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Service_Delivery_Id__c").hide();

                j$("#posRowServiceId").hide();

                

                j$("#rmvetrtdattr1").show();

                j$("#rmvetrtdattr2").show();

                j$("#rmvetrtdattr3").show();

                j$("#rmvetrtdattr4").show();

                j$("#rmvetrtdattr6").show();

                j$("#rmvetrtdattr7").show();
                

                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posSuburb").innerHTML = 'Suburb/Rural delivery number';  

                //j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:reqPosSub").show();

                document.getElementById("thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:reqPosSub").className = 'requiredBlocknull';

        }

        

        //dispaly postal fields for residential address type applicant 2

        function handleResidentialFieldsApp2(){

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posProperty").show();

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Postal_Property_Name__c").show();

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:requiredBlocknullproperty").show();

            

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posUnitNum").show();

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Unit_No_Pos__c").show();

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:requiredBlocknullunit").show();

            

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posUnitNum").show();

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Unit_No_Pos__c").show();

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:requiredBlocknullunit").show();

            

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posStNum").show();

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosStNo").show();

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_No_Pos__c").show();

            

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSt").show();

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSt").show();

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Pos__c").show();

            

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posStType").show();

            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosStType").show();
            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c").show();
            
            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburb").show();
            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").show();
            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Suburb_Pos__c").show();
            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posId").hide();
            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqServiceId").hide();
            j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Service_Delivery_Id__c").hide();
            j$("#posRowServiceId").hide();
            
            j$("#rmvetrtdattr1").show();
            j$("#rmvetrtdattr2").show();
            j$("#rmvetrtdattr3").show();
            j$("#rmvetrtdattr4").show();
            j$("#rmvetrtdattr6").show();
            
            j$("#rmvetrtdattr7").show();
            document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posSuburb").innerHTML = 'Suburb/Rural delivery number';  
            //j$("#thePage\\:theForm\\:thePageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:reqPosSub").show();
            document.getElementById("thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:reqPosSub").className = 'requiredBlocknull';
        }
        
        function checkLimit(limitField, limitNum){
            if (limitField.value.length > limitNum) {
                return false;
            }
        }
        
        function handlePreSubmitFields(element, onload){
            var applicantNo = '';

            if(element.id == 'thePage:theForm:thePageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Customer_ID_Type__c'){

                applicantNo = 1;

            } else if(element.id == 'thePage:theForm:thePageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Customer_ID_Type__c'){

                applicantNo = 2;

            }
            
            if(element.value != ''){
                
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:customerIdNumberlabel').className = 'requiredBlock2';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:customerIdExpirydateRequired').className = 'requiredBlock2';
                j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Applicant__c___ID_Number__c').addClass('isRequired');
            } else {
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:customerIdNumberlabel').className = 'requiredBlocknull';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:customerIdExpirydateRequired').className = 'requiredBlocknull';
                j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Applicant__c___ID_Number__c').removeClass('isRequired');
                
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___ID_Number__c').value = '';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___Version__c').value = '';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___NZ_Residency_Number__c').value = '';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:issuedatedd').value = 'Select';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:issuedatemm').value = 'Select';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:issuedateyyyy').value = '';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:expirydatedd').value = 'Select';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:expirydatemm').value = 'Select';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:expirydateyyyy').value = '';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___Issuing_Country__c').value = '';
                
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Appllicant__c___Identification__c').value = '';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:SecIdentification_ID_No__c').value = '';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:SecId_Sec_ID_Issue_Date__c').value = '';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c__ID_Expiry_Date__c').value = '';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___Issuing_Country__c').value = '';
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___SSec_ID_Issuer__c').value = '';
                
            }

            /** Remove Validation on ID Number when the picklist is NZ FireAcrms Licence **/
            if(element.value == 'NZ Firearms Licence')
            {
                            j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Applicant__c___ID_Number__c').removeClass('isNZDriverLicense');
                            
                            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:customerIdNumberlabel').className = 'requiredBlocknull';

          
            }
             /** Remove Validation on ID Number when the picklist is NZ FireAcrms Licence **/

            if(element.value == 'NZ Driver Licence'){
                
                 j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Applicant__c___ID_Number__c').addClass('isNZDriverLicense');
                 
                 //BEGIN MLASALA: 08/04/15 DEFECT: BACKSPACE ISSUE FIX
                 j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Applicant__c___ID_Number__c').addClass('isMaxLength8');
                 //END MLASALA: 08/04/15 DEFECT: BACKSPACE ISSUE FIX
                
                j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:customerIdVersionlabel').show();

                j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:customerIdVersionfield').show();

            }

            else {

                 //BEGIN MLASALA: 08/04/15 DEFECT: BACKSPACE ISSUE FIX
                 j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Applicant__c___ID_Number__c').removeClass('isMaxLength8');

                 j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Applicant__c___ID_Number__c').removeClass('isNZDriverLicense');

                 j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Applicant__c___ID_Number__c').addClass('isMaxLength16');
                 //END MLASALA: 08/04/15 DEFECT: BACKSPACE ISSUE FIX

                if(element.value == 'NZ Passport'){
                      j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Applicant__c___ID_Number__c').removeClass('isNZDriverLicense');
                }
                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___Version__c').value = '';

                j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:customerIdVersionlabel').hide();

                j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:customerIdVersionfield').hide();

            }

            

            if(element.value == 'Overseas Passport'){

                j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:customerIdNZResidencylabel').show();

                j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:customerIdNZResidencyField').show();

            } else {

                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___NZ_Residency_Number__c').value = '';

                j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:customerIdNZResidencylabel').hide();

                j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:customerIdNZResidencyField').hide();

            }

            

          /** Added by Keerthan : DBHZL-192   - START**/

           

           if(element.value == 'NZ Birth Certificate' || element.value == 'NZ Certificate of Citizenship'){

           j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Secondary-Verification-Panel').show();

           j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Appllicant__c___Identification__c').val('SuperGold card with Photo') ;

           //BEGIN MLASALA 24-AUG-15: DEFECT - SUPERGOLD CARD COUNTRY ISSUE
           if(j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Applicant__c___Sec_ID_Issue_Country__c').val() == ''){
           j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Applicant__c___Sec_ID_Issue_Country__c').val('New Zealand') ;
            }
           //END MLASALA 24-AUG-15: DEFECT - SUPERGOLD CARD COUNTRY ISSUE
            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:customerIdExpirydateRequired').className = 'requiredBlocknull';

           }

          

           else

           {

           j$('#thePage\\:theForm\\:thePageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Secondary-Verification-Panel').hide();

           

           }

            

         /** Added by Keerthan : DBHZL-192   - START**/

                        

            document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:customerIdIssueAuthRequired').className = 'requiredBlocknull';

                        

            if(element.value == 'Australia/Cook Islands/Tokelau/Niue Passport' || element.value == 'Overseas Passport'){

                if(onload == 'false'){

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___Issuing_Country__c').value = '';

                }

                document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:customerIdIssueAuthRequired').className = 'requiredBlock2';

            } else {

                if(onload == 'false'){

                    document.getElementById('thePage:theForm:thePageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___Issuing_Country__c').value = 'New Zealand';

                }

            }

        }

    </script>



</apex:page>