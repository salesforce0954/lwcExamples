<!--
/*
 * @Description: Joint Application Personal Details page (Customer UI)
 * @Author: Russell Cadapan
 * @Date Created: OCT-01-2013
 * @History:
   =====================================================================
       DEC-03-2013: Added EIDV - Mike
       JAN-13-2014: Modified values to accommodate wrapper class - Mike
       JAN-15-2014: Refactored Data Tools Address lookup and added State and country - Campbell
       JAN-17-2014: Refactored to cater single and joint application - Mike
       FEB-11-2014: Added tab level errors - Mike
       JUN-12-2014: Added jQuery validation plugin - Davey
       2015-02-10: Changed Data Tool Method to support NZ Address - Tony Xu
       FEB-11-2015 - Updated setPostalFields() - Keerthan defect #188
       APR-08-15 - Defect 696 - Remove the automatic assignment of validation classes on issuing country except for required validation.
       APR-10-15 - Comment-out the validation that reference to PRS - DYU
       FEB-29-16 - TQLQW - 104 Rebranding - MDAVID
28/03/2019 - PO Box for AU - latitude added help text label
Sprint 4 - Time out moved to 5 mins pop up and note help text
   =====================================================================
 */ 
-->
<apex:page action="{!commonAuthorizationRequired}" standardController="Application__c" extensions="APP_JointPersonalDetailsExt" cache="false" showHeader="false" id="GETemplate" standardStylesheets="false" applyHtmlTag="true" applyBodyTag="true" docType="html-5.0" >
    <input type="hidden" id="siteId" value="{!$CurrentPage.Name}" class="siteId"></input>
    <input type="hidden" id="region" value="{!$Site.Name}" class="region"></input>
    <!-- Added by DYU JUNE.12.2014 - JQUERY Validate Plugin 
     Notes: This must be placed here after the page definition to avoid with existing scripts.
    -->
    <apex:includeScript value="{!URLFOR($Resource.jQueryValidatePlugin, 'jquery-2.1.1.min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.jQueryValidatePlugin, 'jquery.validate.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.jQueryValidatePlugin, 'jquery.validate.min.js')}"/>
    <apex:includeScript value="{!URLFOR($Resource.jQueryValidatePlugin, 'additional-methods.js')}"/>
    <apex:includeScript value="{!$Resource.jqueryValidateScript}"/> 
        <!-- Threatmetrix script -->
    <apex:includeScript value="{!$Resource.threatScript}"/>   
    <script type="text/javascript">     
    tmcss.profile("id.latitudefinancial.com", "{!$Setup.Threatmetrix_Settings__c.orgId__c}", "{!$CurrentPage.parameters.Id}");
    </script>
   <noscript> 
         <iframe style="width: 100px; height: 100px; border: 0; position: absolute; top: -5000px;" src="https://id.latitudefinancial.com/fp/tags?org_id={!$Setup.Threatmetrix_Settings__c.orgId__c}&session_id={!$CurrentPage.parameters.Id}"></iframe>
   </noscript>

    <!-- End -->
<apex:composition template="{!$Site.Template}">
    <apex:define name="GEDDBody">
    <apex:stylesheet value="{!URLFOR($Resource.mobileoveride, '/css/mobile-overide.css')}" />
    <apex:stylesheet value="{!URLFOR($Resource.JQUERY10, '/jquery-ui-1.10.3.custom/css/redmond/jquery-ui-1.10.3.custom.min.css')}" />
    <!-- For Data Tools Address Validation - Added by Fel Saliba 4-OCT-2013 -->
    <apex:stylesheet value="{!URLFOR($Resource.DataTools, '/DataTools/DataToolsPredictiveSearchPlugin-1.0.0.css')}" />
    <apex:includeScript value="{!URLFOR($Resource.DataTools, '/DataTools/DataToolsPredictiveSearchPlugin-1.0.3.js')}" />
    
    <!--Added by MDAVID - 02/29/2016 TQLQW - 104 Rebranding-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <!--link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>-->
    <!--Changed by TXU to reference internal static resource-->
    <link href="{!URLFOR($Resource.ge_web_template, '/ge_web_template/bower_components/bootstrap/dist/css/bootstrap.min.css')}" rel="stylesheet" media="screen" id="stylelink" />
    
    
    <style>
        .pos{
            display: "none";
        }
        .pos2{
            display: "none";
        }
        .tabHeaders{
        font-size: 20px;
        color: black;
        }
        .alert{}
        .ui-autocomplete-loading { 
        background: white url("{!URLFOR($Resource.DataTools, 'DataTools/dt20x20.gif')}") right center no-repeat;
        }
        .voidarea {padding:0 !important;}
        .erroradjust {margin-left: 8px;}
        .pc2 {margin-left:10px;}
        .contentcan {width:65.95%;margin-left:2.12%;float:left;}
        .tipovr1 span.fui-question {margin-top: 13px;}
        <!----additional css by Khan-->
        
        .au_req {font-size:10px; color:#C0C0C0; text-align:center;}
       
                     
    </style>
    
    <apex:outputPanel layout="block" rendered="{!if($Site.name==$Label.Kiwibank_Site_Name,true,false)}">
    <style>
    #ui-id-1 li > a:hover{
            background-color:#6AB421 !important;
            background-image:none !important;
            color:#ffffff;
        }
        
        #ui-id-1 li > a:focus{
            background-color:#6AB421 !important;
            background-image:none !important;
            color:#ffffff;
        }
        #ui-id-2 li > a:hover{
            background-color:#6AB421 !important;
            background-image:none !important;
            color:#ffffff;
        }
        #ui-id-2 li > a:focus{
            background-color:#6AB421 !important;
            background-image:none !important;
            color:#ffffff;
        }
        #ui-id-4 li > a:hover{
            background-color:#6AB421 !important;
            background-image:none !important;
            color:#ffffff;
        }
        
        #ui-id-4 li > a:focus{
            background-color:#6AB421 !important;
            background-image:none !important;
            color:#ffffff;
        }
        #ui-id-5 li > a:hover{
            background-color:#6AB421 !important;
            background-image:none !important;
            color:#ffffff;
        }
        
        #ui-id-5 li > a:focus{
            background-color:#6AB421 !important;
            background-image:none !important;
            color:#ffffff;
        }
        
         #ui-id-3 li > a:hover{
            background-color:#6AB421 !important;
            background-image:none !important;
            color:#ffffff;
        }
        
        #ui-id-3 li > a:focus{
            background-color:#6AB421 !important;
            background-image:none !important;
            color:#ffffff;
        }
       #ui-id-6 li > a:hover{
            background-color:#6AB421 !important;
            background-image:none !important;
            color:#ffffff;
        }
        
        #ui-id-6 li > a:focus{
            background-color:#6AB421 !important; 
            background-image:none !important;
            color:#ffffff;
        }
        
        
    </style>
    
     </apex:outputPanel>
     <!--
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    -->
   
    <script>
        var j$ = jQuery.noConflict();
        function trimField(element){
            element.value = element.value.replace(/,/g,"");
        }
        
        function calculateTotalLoanAmount(elem){
            if(isNaN(elem.value)){
                elem.value = '';
            }
            UpdateAmount();
        }

    </script>

<div  id="warning" title="Do you want to continue?" style="display: none; font-size:11px !important; overflow:hidden;" >    
<p style="font-size:14px !important;line-height:12px;">
<span class="" style="float: left; margin: 0 0px 20px 0;font-size:11px !important;"></span>
<apex:outputText rendered="{!(isBrokerChannel)}">This application will time out in 10 minutes. 
<br/>
<br/>
Please click OK to continue. </apex:outputText>
<apex:outputText rendered="{!Not(isBrokerChannel)}" >
This application will time out in 10 minutes. Please click OK to continue. 
<br/> 
<br/> 
Note: If you wish to resume later please save your application. 
</apex:outputText>
</p>
</div>      


<c:App_WebAnalyticAttributes basecontroller="{!this}"/> 
    <!--Afreen - 26-SEPT-2016 - US-519   -->
    <header> 
        <div id="header" class="header">
            <apex:panelGroup rendered="{!if(OR($site.Name = 'Latitude', $site.Name = 'Gem'), false, true)}">
             <div class="row-fluid header-inner headerlogovr">                    
                 <div class="mobilell">
                     <div class="loginlogout span3 removelmargin helplogindesk fright">
                         <apex:form >
                             <apex:pageBlock >

                                 <div class="span12 fright">
                                     <!-- reBrand by gerome.teodosio@cloudsherpas.com -->
                                    <apex:commandButton value="{!$Label.CUI_header_save_application}" onclick="setNavigationFlag('false');headerButtons('register');" styleClass="btn btn-block btn-normalc buttonarrowimg GPrimary-button" reRender="false" rendered="{!NOT(isRegistered) && Not(isBrokerChannel)}"/>
                                    <apex:commandButton value="{!$Label.CUI_header_logout}" onclick="setNavigationFlag('false');headerButtons('logout')" styleClass="btn btn-block btn-normalc buttonarrowimg GPrimary-button" reRender="false" rendered="{!isRegistered}"/>
                                    </div>
                             </apex:pageBlock>
                         </apex:form>
                     </div>
                 </div>
             </div>
             </apex:panelGroup>
             <!-- Added by MDAVID - 02/29/2016 TQLQW - 104 Rebranding-->
            <apex:panelGroup rendered="{!if(OR($site.Name = 'Latitude', $site.Name = 'Gem'), true, false)}">
                <apex:panelGroup rendered="{!NOT(isRegistered) && Not(isBrokerChannel)}">
                <div class="row-fluid header-inner headerlogovr">                    
                    <div class="mobilell">
                        <div class="loginlogout span3 removelmargin helplogindesk">
                            <apex:form >
                                <apex:pageBlock >
                                    <div class="span12 fleft">
                                        <!-- reBrand by gerome.teodosio@cloudsherpas.com -->
                                        <button type="submit" onclick="setNavigationFlag('false');headerButtons('register'); return false;" class="btn btn-block btn-normalc btn-large GPrimary-button greenSave" reRender="false">Save Application<!--<span class="arrowrighticon" style="margin-left:20px"></span>--></button>
                                    </div>
                                </apex:pageBlock>
                            </apex:form>
                        </div>
                    </div>
                </div>
                </apex:panelGroup>
                <apex:panelGroup rendered="{!(isRegistered)}">
                <div class="row-fluid header-inner headerlogovr"  style="padding: 0 0 0 0 !important;">                    
                    <div class="mobilell">
                        <div class="loginlogout span3 removelmargin helplogindesk">
                            <apex:form >
                                <apex:pageBlock >
                                    <div class="span12 fleft">
                                        <!-- reBrand by gerome.teodosio@cloudsherpas.com -->
                                        <button type="submit" onclick="setNavigationFlag('false');headerButtons('logout');return false;" class="btn btn-block btn-normalc btn-large GPrimary-button greenSave" reRender="false" style="float:right">Logout<span class="arrowrighticon" style="margin-left:20px"></span></button>
                                    </div>
                                </apex:pageBlock>
                            </apex:form>
                        </div>
                    </div>
                </div>
                </apex:panelGroup>
            </apex:panelGroup>
            <!--END - Added by MDAVID - 03/01/2016 TQLQW - 104 Rebranding-->
        </div>
        <div class="divider10"></div>
        
        <!-- created a separate header title for mobile version -->
        <div class="headertitle GHeader-title" style="{!if(OR($site.Name = 'Latitude', $site.Name = 'Gem'), 'display:block', 'display:none')}">
            <h3 class="droid-normal dark main-page-header">Personal loan <span class="clearright"></span>application</h3>
        </div>
    </header>

            <section>
                <!--
                <div>
                    <apex:include id="loanPurpose" pageName="APP_LoanPurpose"/>
                </div>
                -->
               <!-- Added onSubmit attribute for Better Start Added by Suneel -->

                <apex:form id="loanForm" styleClass="validateLoanForm" onSubmit="return loanAmtBSAU();">
                
                <apex:inputHidden id="loanPurposeSize" value="{!loanPurposeSize}"/>
                 <!-- Better Start -->
          <apex:actionFunction name="loanTermSelect" action="{!getLoanTermOnProduct}" reRender="loan_selected"/>
                    <apex:actionFunction name="productSelection" action="{!getProductOnLoanSelection}" rerender="product_selected"/>

          <!-- End -->
                <apex:actionFunction name="validateLoan" action="{!validateLoanFields}" rerender="loanForm,loanValid" status="pleasewait" oncomplete="showOtherLoanPurpose();checkApplicantFields('Save');adjustStyleSheets();"/>
                <apex:actionFunction name="UpdateAmount"  action="{!calculateLoanAmountTotal}" reRender="Exp_total,product_selected,loan_selected" oncomplete="showOtherLoanPurpose();"/>
                <!--Added by MDAVID - 03/02/2016 TQLQW - 104 Rebranding-->
                <apex:actionFunction name="addLoanPurpose" action="{!addLoanPurpose}" rerender="loanForm,loanPurposeSize,OtherPanelId" status="removeStatus" onComplete="showOtherLoanPurpose();"/>
                <apex:actionFunction name="removeLoanPurpose" action="{!removeLoanPurpose}" rerender="loanForm,loanPurposeSize" rendered="{!if(loanPurposeSize >=2, true, false)}" status="removeStatus" onComplete="showOtherLoanPurpose();"/>
                <div class="headerbanner lp_area_mobile"> <!--Added by MDAVID - 03/16/2016 TQLQW - 104 Rebranding - For Mobile-->
                    <div class="{!if(OR($site.Name = 'Latitude', $site.Name = 'Gem'), 'lp_eligibility', 'maincontent lp_area lp_eligibility')}{!if($site.Name=='Latitude','width800','')}{!if($site.Name=='Gem','width580','')}">
                    <div class="{!if(OR($site.Name = 'Latitude', $site.Name = 'Gem'), 'container-fluid headerbackground', 'row-fluid')}">
                        <div class="{!if(OR($site.Name = 'Latitude', $site.Name = 'Gem'), 'lp_area lp_eligibility', 'row-fluid span12 loanfields')}">
                        <div class="{!if(OR($site.Name = 'Latitude', $site.Name = 'Gem'), 'row-fluid', '')}">   
                            <div class="clearfix"></div>
                            <!-- Start of Content Here -->
                            <div class="{!if(OR($site.Name = 'Latitude', $site.Name = 'Gem'), 'row-fluid span12', '')}" style="{!if($site.Name=='Gem', 'margin-left: 0;', '')}">
                                <div id="addfields" class="tablemainlist llfields {!if(OR($site.Name=='Latitude', $site.Name=='Gem'), 'width800', '')}">
                                    <div class="headertitle" style="{!if(OR($site.Name = 'Latitude', $site.Name = 'Gem'), 'display:block', 'display:none')}">
                                        <h3 class="droid-normal dark main-page-header">Personal loan <span class="clearright"></span>application</h3>
                                    </div>

                                    <!-- Start Loop-->
                                    <apex:repeat value="{!loanWrapList}" var="l" id="lw">
                                        <!-- <apex:pageBlockSection id="Loan_Purpose__c-1"> -->
                                            <c:APP_Main country="{!brand.country__c}" l="{!l}" id="component-1"/>
                                        <!-- </apex:pageBlockSection> -->
                                    </apex:repeat>
                                    <div class="clearfix"></div>
                                    <div id="countIcons" class="span12 adjustmeicon">
                                        <apex:panelGroup rendered="{!if(OR($site.Name = 'Latitude', $site.Name = 'Gem'), false, true)}">
                                            
                                            <!-- reBrand by gerome.teodosio@cloudsherpas.com -->
                                            <div class="minusplusicon miconad GRemove-loan">
                                                <apex:commandButton value=" " styleClass="minusfield" action="{!removeLoanPurpose}" rerender="loanForm,loanPurposeSize" rendered="{!if(loanPurposeSize >=2, true, false)}" status="removeStatus" onComplete="showOtherLoanPurpose();"/>
                                            </div>
                                            <div class="minusplusicon adconad mv_addicon">
                                                <apex:commandButton value="" styleClass="plusfield" action="{!addLoanPurpose}" rerender="loanForm,loanPurposeSize" rendered="{!loanPurposeSize <=9}" status="addStatus" oncomplete="showOtherLoanPurpose();"/>
                                            </div>
                                        </apex:panelGroup>
                                        <!-- Added by MDAVID - 02/29/2016 TQLQW - 104 Rebranding-->
                                        <apex:panelGroup rendered="{!if(OR($site.Name = 'Latitude', $site.Name = 'Gem'), true, false)}">
                                            <apex:panelGroup rendered="{!if(loanPurposeSize >=2, true, false)}">
                                                <!-- reBrand by gerome.teodosio@cloudsherpas.com -->
                                                <div class="minusplusicon miconad GRemove-loan">
                                                    <span class="minusicon" onclick="removeLoanPurpose()"></span>
                                                </div>
                                            </apex:panelGroup>
                                            <apex:panelGroup rendered="{!loanPurposeSize <=9}">
                                                <div class="minusplusicon adconad">
                                                    <span class="plusicon" onclick="addLoanPurpose()"></span>
                                                </div>
                                            </apex:panelGroup>
                                        </apex:panelGroup>
                                    </div>
                                    <div class="clearfix"></div>
                                </div><!-- addfields -->
                            </div>
                        
                        <div class="clearfix"></div>   
                         <!-- Product dropdown better start-->
                       <div  class="span4" style="width: {!if($site.Name='Latitude','127px; font-size: 16px !important; color: #ffffff !important;','115px')};">
                          <apex:outputLabel rendered="{!IF($CurrentPage.parameters.form == 'broker' && isBSOfferActive, true, false)}" styleClass="gem-subtitle" style="{!if($site.Name=='Latitude','color: #ffffff !important; font-family: Lexia Book !important; font-size: 16px !important;','')} margin-left:695px">Product</apex:outputLabel>
                        </div>
                       <apex:outputPanel rendered="{!IF($CurrentPage.parameters.form == 'broker' && isBSOfferActive, true, false)}" style="width:222px;margin:auto;margin-left:785px" layout="block" id="product_selected">
                          <apex:selectList styleClass="input-block-level isPicklistLoanTerm dropdownicon checkPreviousFields removebmargin" size="1" value="{!productSelected}" onChange="selectLoanTerm()"  id="Product_SubType_Selected">
                            <apex:selectOptions value="{!productOptions}"/>
                          </apex:selectList>
                        <!--  <apex:outputText styleClass="warningMessage" escape="false" rendered="{!loanTermNotValid}" value="You must select a loan term."/> -->
                       </apex:outputPanel> 
                       <!-- End -->     
                       <!--- Better Start -->
                       <apex:outputPanel rendered="{!IF($CurrentPage.parameters.subType== 'betterStart', true, false)}" >
                       <div id="demo" style="background-color:#CC0033 !important;width:500px;margin:auto;color:#ffffff !important;font-family:initital;padding-left:28px">
                       </div>
                       </apex:outputPanel>
                       <!--- End --->               
                    </div>
                    </div>
                    </div>
                <!-- reBrand by gerome.teodosio@cloudsherpas.com -->
                <div class="container-fluid loanamountdiv">
                <div class="maincontent">
                    <div class="row-fluid">
                        <div class="computation {!if(OR($site.Name=='Latitude', $site.Name=='Gem'), 'comp700', '')} overfieldFix">
                            <div class="span5 dbtotal">
                                <span class="totalname">Total loan amount:</span>
                                <span class="total">
                                    <apex:outputText value="${0, number, ###,###,###,##0.00}" id="Exp_total">
                                        <apex:param value="{!totAmount}"/>
                                    </apex:outputText>
                                    <apex:outputText styleClass="warningMessage" escape="false" rendered="{!loanAmountNotValid}" value="<br/>Error: Your preferred loan amount must be at least ${!validLPAmount}."/><!--UPDATED by RCADAPAN @ 08-MAR-2016 to merge Valid Total Loan Amount per Region - TQLQW-29-->
                                </span>
                                
                            </div>
                            <div class="span6 overfield pull-right removelmargin">
                                <div class="span4" style="{!if($site.Name=='Latitude','width: 127px','width: 120px')}">
                                        <apex:outputLabel styleClass="gem-subtitle">{!$Label.Over}</apex:outputLabel>
                                </div>
                                <div class="span6 input100pct" style="width: 127px">
                                <!-- Added the below OutPanel condition by Suneel BetterStart -->
                                        <apex:outputPanel id="loan_selected"  layout="block">
                                        <apex:selectList styleClass="input-block-level isPicklistNone isPicklistLoanTerm dropdownicon" id="loanterm" size="1" value="{!loanTermSelected}" >
                                               <apex:selectOptions value="{!loanTermOptions}"/>
                                        </apex:selectList>
                                        <apex:outputText styleClass="warningMessage" escape="false" rendered="{!loanTermNotValid}" value="Error: You must select a loan term."/>
                                </apex:outputPanel>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div><!-- computation -->
                    </div>
                </div><!-- end maincontent -->
                </div>
                </div>
                </div>
                    <script type="text/javascript">
                        function showOtherLoanPurpose(){
                            var loanrepeat = document.getElementById("GETemplate:GETemplate:loanForm:loanPurposeSize");
                            for(var i=0;i<loanrepeat.value;i++){
                                var purpose = document.getElementById("GETemplate:GETemplate:loanForm:lw:"+i+":component-1:Loan_Purpose__c-mycomponent:Loan_Purpose__c____Value__c");
                                var other = document.getElementById("GETemplate:GETemplate:loanForm:lw:"+i+":component-1:Loan_Purpose__c-mycomponent:OtherPanelId");

                                if(purpose.value == 'Other'){
                                    other.style.display = "block";
                                }else{
                                    other.style.display = "none";
                                }
                        
                            }
                        }
                        showOtherLoanPurpose();
                        
                        function selectLoanTerm(){
                             loanTermSelect();
                             }
                             function selectProductLoan(){
        productSelection();
        }
                    </script>
                </apex:form>
                <!-- reBrand by gerome.teodosio@cloudsherpas.com -->
                <apex:outputPanel rendered="{!OR($site.Name=='Latitude', $site.Name=='Gem', $site.Name=='Kiwibank')}">
                    <c:LFS_ProgressIndicator />
                </apex:outputPanel>
                <!--<apex:outputPanel rendered="{!OR($site.Name=='Gem', $site.Name=='Kiwibank')}">
                    <<c:ProgressIndicator />
                </apex:outputPanel>-->
                
                <div class="maincontent {!if($site.Name!='Gem', '', '')} GMob-container">
                    <div class="row-fluid">
                    
                        <!-- Start of Content Here -->
                        
                        <!-- sidebar -->
                        
                        <apex:outputPanel rendered="{!$site.Name=='Aussie'}">
                            
                            <div class="span4 earlyfull sidebar dashboardarea">
                                <apex:form >
                                    <!-- Sidebar -->
                                    <c:GEDDSidebar />
                                </apex:form>
                                <!--<c:GetHelp />-->
                            </div>
                        </apex:outputPanel><!-- span3 sidebar -->
                    
                        <!-- right column -->
                        <div class="{!if(OR($site.Name!='Latitude', $site.Name=='Gem', $site.Name=='Kiwibank'),'span7','span12')} earlyfull page-personaldetails {!if(OR($site.Name=='Latitude', $site.Name=='Gem', $site.Name=='Kiwibank'),'width800','')}">

                            <div class="clearfix"></div>
                            
                            <!-- Timeout Note help text - Sprint 4 ---->
                            <div>                                            
                                    <h5 style="color: #75787b; margin-bottom:5px;margin-left: 5px;">
                                        <apex:outputText rendered="{!Not(isBrokerChannel)}">Note your session will time out after 15 minutes of inactivity, we recommend you save your application</apex:outputText>    
                                        <apex:outputText rendered="{!(isBrokerChannel)}">Note your session will timeout after 15 minutes of inactivity </apex:outputText>                                       
                                    </h5>
                            </div>
                            
                                                           
                            <div class="clearfix" ></div>
                            <div class="clearfix" style="height:20px"></div>  
                            <h2 class="gem-heading" style="text-align: left;">
                                <apex:outputText rendered="{!OR($site.Name=='Latitude', $site.Name=='Gem', $site.Name=='Kiwibank')}">About You</apex:outputText>
                                <apex:outputText rendered="{!!OR($site.Name=='Latitude', $site.Name=='Gem', $site.Name=='Kiwibank')}">Personal Details</apex:outputText>
                            </h2>
                            <!--<div class="divider10"></div>-->
                            
                            <apex:form id="mainForm" styleClass="validateMainForm">
                                <apex:actionFunction name="deleteApplicant2"  action="{!deleteApplicant}" oncomplete="setNavigationFlag(null);"/>
                                <apex:inputHidden id="navflag"/>
                                <apex:inputHidden id="redirectTxt" value="{!redirectTo}"/>
                                <apex:inputHidden id="destinationPage" value="{!destinationPage}"/>
                                <apex:inputHidden id="callingPage" value="{!callingPage}"/>
                                <apex:inputHidden id="blackBox" value="{!blackBox}"/>
                                <apex:inputHidden id="loanValid" value="{!loanValidationResults}"/>
                                <apex:inputHidden id="app1Age" value="{!applicantWrapper.applicant.Applicant_Age__c}"/>
                                <apex:inputHidden id="app2Age" value="{!applicant2Wrapper.applicant.Applicant_Age__c}"/>
                                <apex:inputhidden id="app1DBDocGen" value="{!applicantWrapper.applicant.Date_of_Birth_Doc_Gen__c}"/>
                                <apex:inputhidden id="app2DBDocGen" value="{!applicant2Wrapper.applicant.Date_of_Birth_Doc_Gen__c}"/>
                                <!-- BEGIN MLASALA: 23-SEPT-15 - ASYNC TO SYNC CALL OUT -->
                                <apex:actionFunction name="validateApplication" action="{!validateApply}" rerender="errorId, blackBox" oncomplete="setNavigationFlag(null);submitServiceCall();"/>
                                <apex:actionFunction name="submitServiceCall" action="{!submitServiceCallCustomer}"/>
                                <!-- END MLASALA: 23-SEPT-15 - ASYNC TO SYNC CALL OUT -->
                                <apex:actionFunction name="navigate" action="{!pageNavigation}" rerender="false"/>
                                <apex:actionFunction name="validateFields" action="{!pageRedirect}" rerender="errorId, applicant2PageBlock,Applicant__c-2,applicantPageBlock,Applicant__c-1,,applicantPanel1,applicantPanel2,applicantPanel3,applicantPanel4,applicantPanel5,g,err,genderDetails,yourDetailsPanel2,yourDetailsPanel3,yourDetailsPanel4,yourDetailsPanel5,time,flag, applicant2Panel1,applicant2Panel2,applicant2Panel3,applicant2Panel4,applicant2Panel5,g2,err2,genderDetails2,yourDetails2Panel2,yourDetails2Panel3,yourDetails2Panel4,yourDetails2Panel5,,time2,prevAdd1,prev2Add1, yourDetailsPanel6, yourDetails2Panel6, postalAddress, postalAddress2, applicantMainPanel1, applicant2MainPanel1,navflag,errorPostalFlag, amldetails,preSubmitIdentification" oncomplete="executeLoad();setNavigationFlag(null);" />

                                <apex:actionFunction name="headerRegister" action="{!register}"/>
                                <apex:actionFunction name="headerLogout" action="{!logout}"/>


                                    <div class="tabbable mobileCon">
                                        
                                        <apex:pageMessages id="errorId"/>
                                        
                                        <apex:outputPanel rendered="{!IF(applicantList.size==2,true,false)}">
                                            <ul class="nav nav-tabs">
                                                <li class="active"><a style="width: 100%" href="#tab1" data-toggle="tab"><span>{!applicantWrapper.applicant.First_Name__c}</span></a></li>
                                                <li ><a style="width: 100%" href="#tab2" data-toggle="tab" onclick="return copyAddress();"><span>{!applicant2Wrapper.applicant.First_Name__c}</span></a></li> 
                                            </ul>
                                        </apex:outputPanel>
                      
                                       <div class="tab-content">
                                            <!-- reBrand by gerome.teodosio@cloudsherpas.com -->
                                            <div class="GMob-container tab-pane active" id="tab1"> 
                                                <apex:pageBlock id="applicantPageBlock" title=""><!--start of block-->
                                                    <apex:pageblocksection id="Applicant__c-1" columns="1">
                                                          <c:APP_JointPersonalDetail applicantWrapper="{!applicantWrapper}" brandRegion="{!brand.country__c}" applicantNo="1" id="component-1"  brokerchannel="{!isBrokerChannel}"/>
                                                    </apex:pageblocksection>
                                                </apex:pageBlock>
                                            </div><!-- tab-pane 1-->


                                            <div class="tab-pane" id="tab2">
                                            <!-- Below line added after Spring'19 release Suneel 12/01/2019 -->
                                             <apex:outputPanel rendered="{!IF(applicantList.size==2,true,false)}">
                                             <!-- End -->
                                                <apex:pageBlock title="" id="applicant2PageBlock">
                                                        <apex:pageblocksection id="Applicant__c-2" columns="1">
                                                           <c:APP_JointPersonalDetail applicantWrapper="{!applicant2Wrapper}" brandRegion="{!brand.country__c}" applicantNo="2" id="component-2"  brokerchannel="{!isBrokerChannel}"/> 
                                                        </apex:pageblocksection>                                                        
                                                </apex:pageBlock>
                                                <apex:commandButton onclick="setNavigationFlag('false');delApplicant();" reRender="false" styleClass="btn btn-large btn-reset-m btn-activec fright buttonarrowimg" value="Remove Applicant" rendered="{!AND(isJoint,isCompleted)}"/>
                                             </apex:outputPanel>
                                            </div><!-- tab-pane 2-->

                                        </div><!-- tab-content -->
                                        
                                    </div><!-- end tabbable -->
                                    <div class="divider10"></div>
                                    <div class="clearfix"></div>

 
                                        <!-- Loading -->
                                        <apex:actionStatus id="pleasewait" layout="block">
                                            <apex:facet name="start">
                                                <apex:image url="{!URLFOR($Resource.getheme, 'images/loading-bar.gif')}" styleClass="fright"/>
                                            </apex:facet> 
                                        </apex:actionStatus>
                                        <div class="divider10"></div>
                                    
                                    <div class="row-fluid marginlftzero">
                                        <div class="span6 mv_hidetotally marginlftzero"></div>
                                        <!-- validateForm() -->
                                        <div class="span6">  
                                            <apex:panelGroup rendered="{!if(OR($site.Name = 'Latitude', $site.Name = 'Gem'), false, true)}"> 
                                                <!-- reBrand by gerome.teodosio@cloudsherpas.com -->
                                                <apex:commandButton onclick="setNavigationFlag('false'); lockoutSubmit(this); if(validateForm()){validateLoan();}" styleClass="btn btn-block btn-large btn-reset-m btn-normalc fright buttonarrowimg btnNext GNext-but-fix GPrimary-button lfs-next-btn" value="Continue" status="saveStatus" rerender="false" />
                                            </apex:panelGroup>
                                            <!-- Added by MDAVID - 02/29/2016 TQLQW - 104 Rebranding-->
                                            <apex:panelGroup rendered="{!if(OR($site.Name = 'Latitude', $site.Name = 'Gem'), true, false)}">
                                                <!-- reBrand by gerome.teodosio@cloudsherpas.com -->
                                                <!--<button type="submit" onclick="setNavigationFlag('false'); lockoutSubmit(this); if(validateForm()){validateLoan(); return false;}" class="btn btn-block btn-large btn-reset-m btn-normalc fright btnNext GPrimary-button" status="saveStatus" rerender="false">Next-->
                                                <!--<span class="arrowrighticon GNext-but-fix" style="margin-left:20px"></span></button>-->
                                                <apex:commandButton style="width: 50% !important;" onclick="hidePreviousAddress();setNavigationFlag('false'); lockoutSubmit(this); if(validateForm()){validateLoan();}" styleClass="btn btn-block btn-large btn-reset-m btn-normalc fright buttonarrowimg btnNext GNext-but-fix GPrimary-button lfs-next-btn" value="Continue" status="saveStatus" rerender="false" />
                                            </apex:panelGroup>  
                                        </div>
                                    </div>
                            </apex:form>
                        </div><!-- span7 earlyfull -->
                        <!-- End of Content -->
                    </div>
                </div><!-- end maincontent -->
            </section>
    
        <script>
            function warningTitleMsg(){
                var strId = '{!$CurrentPage.parameters.Id}';
                console.log({!isSoftQuoteAddress}+'.....{!isBrokerQuote}.....'+{!isBrokerQuote});
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    console.log('.....{!isBrokerQuote}.'+{!isBrokerQuote});
                    $('#warningTitle').show(10, function () {
                        setTimeout(function () {
                            $('#warningTitle').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningTitle').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningTitle').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');                                        
                                        }  
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningTitle').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningApplicantFName(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningApplicantFNameMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningApplicantFNameMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningApplicantFNameMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningApplicantFNameMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');                                        
                                        }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningApplicantFNameMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            
            function warningApplicantMName(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningApplicantMNameMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningApplicantMNameMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningApplicantMNameMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningApplicantMNameMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningApplicantMNameMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            
            function warningApplicantLName(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningApplicantLNameMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningApplicantLNameMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningApplicantLNameMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningApplicantLNameMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningApplicantLNameMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningGender(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningGenderMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningGenderMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningGenderMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningGenderMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningGenderMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningbirthDate(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningbirthDateMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningbirthDateMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningbirthDateMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningbirthDateMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningbirthDateMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
           
            
            function warningCustomerID(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteNZIDFlag}){
                    $('#warningCustomerIDMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningCustomerIDMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningCustomerIDMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningCustomerIDMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningCustomerIDMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            
            function warningDLVersion(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteNZIDFlag}){
                    $('#warningDLVersionMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningDLVersionMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningDLVersionMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningDLVersionMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningDLVersionMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            
            function warningDLIssuedate(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteNZIDFlag}){
                    $('#warningDLIssuedateMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningDLIssuedateMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningDLIssuedateMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningDLIssuedateMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningDLIssuedateMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningDLExpirydate(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteNZIDFlag}){
                    $('#warningDLExpirydateMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningDLExpirydateMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningDLExpirydateMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningDLExpirydateMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningDLExpirydateMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            
            function warningDLIssuingCountry(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningDLIssuingCountryMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningDLIssuingCountryMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningDLIssuingCountryMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningDLIssuingCountryMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningDLIssuingCountryMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            
            
            function warningPostalAddress(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningPostalAddressMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningPostalAddressMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningPostalAddressMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningPostalAddressMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningPostalAddressMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            
            function warningPreviousStreetnumber(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningPreviousStreetnumberMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningPreviousStreetnumberMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningPreviousStreetnumberMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningPreviousStreetnumberMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningPreviousStreetnumberMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningPreviousStreet(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningPreviousStreetMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningPreviousStreetMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningPreviousStreetMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningPreviousStreetMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningPreviousStreetMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            
            function warningPreviousStreetType(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningPreviousStreetTypeMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningPreviousStreetTypeMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningPreviousStreetTypeMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningPreviousStreetTypeMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningPreviousStreetTypeMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningPreviousSuburb(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningPreviousSuburbMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningPreviousSuburbMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningPreviousSuburbMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningPreviousSuburbMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningPreviousSuburbMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningPreviousState(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningPreviousStateMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningPreviousStateMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningPreviousStateMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningPreviousStateMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningPreviousStateMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            
            function warningPreviousPostcode(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningPreviousPostcodeMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningPreviousPostcodeMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningPreviousPostcodeMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningPreviousPostcodeMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningPreviousPostcodeMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningPreviousCity(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningPreviousCityMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningPreviousCityMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningPreviousCityMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningPreviousCityMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningPreviousCityMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningDriverlicence(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningDriverlicenceMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningDriverlicenceMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningDriverlicenceMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningDriverlicenceMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningDriverlicenceMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningStreetnumber(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningStreetnumberMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningStreetnumberMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningStreetnumberMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningStreetnumberMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningStreetnumberMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningStreet(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningStreetMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningStreetMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningStreetMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningStreetMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningStreetMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningStreetType(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningStreetTypeMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningStreetTypeMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningStreetTypeMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningStreetTypeMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningStreetTypeMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningSuburb(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningSuburbMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningSuburbMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningSuburbMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningSuburbMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningSuburbMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningState(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningStateMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningStateMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningStateMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningStateMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningStateMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningPostcode(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningPostcodeMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningPostcodeMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningPostcodeMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningPostcodeMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningPostcodeMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningCity(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningCityMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningCityMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningCityMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningCityMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningCityMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
             function warningResPropertyName(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningResPropertyNameMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningResPropertyNameMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningResPropertyNameMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningResPropertyNameMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningResPropertyNameMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
             function warningPrePropertyName(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningPrePropertyNameMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningPrePropertyNameMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningPrePropertyNameMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningPrePropertyNameMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningPrePropertyNameMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            
            function warningPreviousResidentialAddress(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningPreviousResidentialAddressMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningPreviousResidentialAddressMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningPreviousResidentialAddressMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningPreviousResidentialAddressMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningPreviousResidentialAddressMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningPropertyName(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningPropertyNameMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningPropertyNameMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningPropertyNameMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningPropertyNameMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningPropertyNameMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            
            function warningAddressThisTime(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningAddressThisTimeMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningAddressThisTimeMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningAddressThisTimeMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningAddressThisTimeMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningAddressThisTimeMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            
            function warningAddressAtTime(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningAddressAtTimeMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningAddressAtTimeMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningAddressAtTimeMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningAddressAtTimeMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningAddressAtTimeMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            function warningEmailaddress(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningEmailaddressMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningEmailaddressMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningEmailaddressMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningEmailaddressMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningEmailaddressMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            
            function warningMobileNumber(){
                var strId = '{!$CurrentPage.parameters.Id}';
                if(strId !=null && strId !='' && {!isSoftQuoteAddress}){
                    $('#warningMobileNumberMsg').show(10, function () {
                        setTimeout(function () {
                            $('#warningMobileNumberMsg').html(function () {
                                setTimeout(function () {
                                    if({!isBrokerQuote}){
                                        $('#warningMobileNumberMsg').html('This information has been considered when you completed your quote. If you modify these details, your client&apos;s quoted interest rate may change.');
                                    }else{
                                        $('#warningMobileNumberMsg').html('This information has been considered when you completed your quote. If you modify these details, your quoted interest rate may change.');
                                    }
                                }, 0);
                                setTimeout(function() { 
                                    $('#warningMobileNumberMsg').fadeOut(); 
                                }, 15000);
                            });
                        }, 0);
                    });
                }
            }
            
            
        </script>
    
    <!-- scripts -->
    <!-- Script for Data Tools Address Validation- Fel Saliba 4-OCT-2013 -->
    <script>
        var j$ = jQuery.noConflict();
        
        //Added by TXU - Function to be used by NZ data tool that returns the selected index 
        function returnSelectedIndex(el, text){
            
            for(var i=0; i<el.options.length; i++){
                if(el.options[i].text == text){
                    el.selectedIndex = i;
                    break;
                }
            }
        }   
       
        // Created by: Adrian Recio
        // Description: Function to disable/enable button onprocess events
        function lockoutSubmit(button) {
            var oldValue = button.value;
        
            button.setAttribute('disabled', true);
            button.value = 'Continue';
        
            setTimeout(function(){
                button.value = oldValue;
                button.removeAttribute('disabled');
            }, 5000)
        }
        
        function DataToolMethodNZ() {
             j$("input.datatools").each(function(index, callingitem){   
                //For PO Box we need to call a different web service therefore for Postal Address we will treat it differently  
                    if(callingitem.id != "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulPAdd" && callingitem.id != "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulPAdd"){ 
                        j$(callingitem).autocomplete({
                            source: function( request, response ) {
                                j$.ajax({
                                    url: "{!NZEndPoint}",
                                    dataType: "jsonp",
                                    type: "GET",
                                    contentType: "application/json; charset=utf-8",
                                    data: {OutputFormat:"json", ResultLimit:10, AddressLine:request.term, Method:"DataTools.Capture.Address.Predictive.NzPaf.SearchAddress", RequestKey:"{!NZRequestKey}", DepartmentCode:"CloudSherp"},
                                    success: function( data ) {
                                        response( j$.map( data.DtResponse.Result, function( item ) {
                                            var Output = (item.AddressLine + ", " + item.Suburb + ", " + item.TownCityMailtown + ", " + item.Postcode);
                                            return {
                                                label: Output ,
                                                value: Output ,
                                                Output: Output,
                                                RecordId: item.RecordId,
                                                AddressLine: item.AddressLine
                                            }
                                        }));
                                    }
                                });
                            },
                            select: function(event, ui){
                                //Retrieve detailed address
                                j$.ajax({
                                    url: "{!NZEndPoint}",
                                    dataType: "jsonp",
                                    type: "GET",
                                    contentType: "application/json; charset=utf-8",
                                    data: {Method:"DataTools.Capture.Address.Predictive.NzPaf.RetrieveAddress", RecordId:ui.item.RecordId, RequestId:"", RequestKey:"{!NZRequestKey}", DepartmentCode:"CloudSherp", OutputFormat:"json" },
                                    success: function( data ) { 
                                         
                                         console.log(data.DtResponse.Result);
                                                                    
                                         j$.map(data.DtResponse.Result, function (item) {
                                            //alert('unit number suffix -> '+item.unit_number_suffix+'\n unit number -> '+item.unit_number+'\n street number -> '+item.street_number_1+'\n street number suffix -> '+item.street_number_suffix_1+'\n street number 2 -> '+item.street_number_2+'\n street number 2 suffix -> '+item.street_number_suffix_2+'\n street name -> '+item.street_name+'\n street type -> '+item.street_type+'\n state -> '+item.state+'\n locality -> '+item.locality+'\n postcode -> '+item.postcode+'\n country -> '+item.country+' '+item.country_code);
                                            if(callingitem.id == "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulAdd"){
                                            
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value = item.UnitNumber;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = item.StreetNumber1 + item.StreetNumberSuffix1;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value = item.StreetName;
                                                returnSelectedIndex(document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c'), item.StreetType);                                             
                                                //j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Res__c option:contains("+ item.StreetType +")").attr('selected', true);
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Res__c').value = item.TownCityMailtown;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = item.Suburb;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value = item.Postcode;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value = "New Zealand";
                                                
                                                if(item.AddressType == "RURAL"){
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = item.RdNumber;
                                                }
                                                
                                            } else if (callingitem.id == "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulPreAdd") {
                                            
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Pre__c').value = item.UnitNumber;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pre__c').value = item.StreetNumber1 + item.StreetNumberSuffix1;
                                                returnSelectedIndex(document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Pre__c'), item.StreetType);
                                                //j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pre__c option:contains("+ item.StreetType +")").attr('selected', true);
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Pre__c').value = item.TownCityMailtown;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Pre__c').value = item.StreetName;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Pre_c').value = item.Suburb;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Pre__c').value = item.Postcode;  
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pre__c').value = "New Zealand";       
                                                
                                                if(item.AddressType == "RURAL"){
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Pre_c').value = item.RdNumber;
                                                }
                                            
                                            } else if (callingitem.id == "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulAdd") {
        
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value = item.UnitNumber;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = item.StreetNumber1 + item.StreetNumberSuffix1;
                                                returnSelectedIndex(document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c'), item.StreetType);
                                                //j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Res__c option:contains("+ item.StreetType +")").attr('selected', true);
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Res__c').value = item.TownCityMailtown;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value = item.StreetName;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = item.Suburb;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value = item.Postcode;   
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value = "New Zealand";
                                                
                                                if(item.AddressType == "RURAL"){
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = item.RdNumber;
                                                }
        
                                            } else if (callingitem.id == "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulPreAdd") {
        
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Pre__c').value = item.UnitNumber;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pre__c').value = item.StreetNumber1 + item.StreetNumberSuffix1;
                                                returnSelectedIndex(document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Pre__c'), item.StreetType);
                                                //j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pre__c option:contains("+ item.StreetType +")").attr('selected', true);
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Pre__c').value = item.TownCityMailtown;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Pre__c').value = item.StreetName;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Pre_c').value = item.Suburb;
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Pre__c').value = item.Postcode; 
                                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pre__c').value = "New Zealand";
                                                
                                                if(item.AddressType == "RURAL"){
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Pre_c').value = item.RdNumber;
                                                }
        
                                            }
                                         })
                                     }
                                });             
                            }                       
                        });
                    }else{
                        var method;
                        //For Postal Address
                        j$(callingitem).autocomplete({
                            source: function( request, response ) {
                                //If input address is "PO BOX" or "Private Bag" call NZPaf, otherwise call NzKms
                                if(request.term.substring(0,6).toLowerCase() == "po box" || request.term.substring(0,11).toLowerCase() == "private bag"){
                                    method = "DataTools.Capture.Address.Predictive.NzPaf.SearchAddress";                                
                                }else{
                                    method = "DataTools.Capture.Address.Predictive.NzPaf.SearchAddress"
                                }
                                console.log("Method 1 : " + method);
                                j$.ajax({
                                    url: "{!NZEndPoint}",
                                    dataType: "jsonp",
                                    type: "GET",
                                    contentType: "application/json; charset=utf-8",
                                    data: {OutputFormat:"json", ResultLimit:10, AddressLine:request.term, Method:method, RequestKey:"{!NZRequestKey}", DepartmentCode:"CloudSherp"},
                                    success: function( data ) {
                                        response( j$.map( data.DtResponse.Result, function( item ) {
                                            var Output = (item.AddressLine + ", " + item.Suburb + ", " + item.TownCityMailtown + ", " + item.Postcode);
                                            return {
                                                label: Output ,
                                                value: Output ,
                                                Output: Output,
                                                RecordId: item.RecordId,
                                                AddressLine: item.AddressLine
                                            }
                                        }));
                                    }
                                });
                            },
                            select: function(event, ui){
                                var retrieveMethod;
                                if(method == "DataTools.Capture.Address.Predictive.NzPaf.SearchAddress"){
                                    retrieveMethod = "DataTools.Capture.Address.Predictive.NzPaf.RetrieveAddress";
                                }else{
                                    retrieveMethod = "DataTools.Capture.Address.Predictive.NzPaf.RetrieveAddress";
                                }
                                //Retrieve detailed address
                                j$.ajax({
                                    url: "{!NZEndPoint}",
                                    dataType: "jsonp",
                                    type: "GET",
                                    contentType: "application/json; charset=utf-8",
                                    data: {Method:retrieveMethod, RecordId:ui.item.RecordId, RequestId:"", RequestKey:"{!NZRequestKey}", DepartmentCode:"CloudSherp", OutputFormat:"json" },
                                    success: function( data ) { 
                                         
                                         console.log(data.DtResponse.Result);
                                                                    
                                         j$.map(data.DtResponse.Result, function (item) {
                                    
                                            console.log(item);
        
                                            if (callingitem.id == "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulPAdd") {
                                            
                                                //if PO BOX
                                                if(item.AddressType == "BOX"){
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = "PO Box";
                                                    enablePostalFields(document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c'));
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c').value = item.PostBoxNumber;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c').value = item.LobbyName;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.TownCityMailtown;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.Postcode;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = "New Zealand";                                               
                                                }else if (item.AddressType == "BAG"){
                                                    
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = "Private Bag";
                                                    enablePostalFields(document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c'));
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c').value = item.PostBoxNumber;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c').value = item.LobbyName;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.TownCityMailtown;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.Postcode;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = "New Zealand";                                                                                                                           
                                                }else{
                                                    console.log('Residential');
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = "Residential";
                                                    enablePostalFields(document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c'));
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c').value = item.UnitNumber;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = item.StreetNumber1 + item.StreetNumberSuffix1;
                                                    
                                                    returnSelectedIndex(document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c'), item.StreetType);
                                                    //j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c option:contains("+ item.StreetType +")").attr('selected', true);
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.TownCityMailtown;                                      
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Pos__c').value = item.StreetName;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c').value = item.Suburb;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.Postcode;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = "New Zealand";
                                                    
                                                    if(item.AddressType == "RURAL"){
                                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c').value = item.RdNumber;
                                                    }
                                                }
                                            
                                            } else if (callingitem.id == "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulPAdd") {
                                            
                                                //if PO BOX
                                                if(item.AddressType == "BOX"){
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = "PO Box";
                                                    enablePostalFields(document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c'));
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c').value = item.PostBoxNumber;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c').value = item.LobbyName;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.TownCityMailtown;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.Postcode;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = "New Zealand";                                              
                                                }else if (item.AddressType == "BAG"){
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = "Private Bag";
                                                    enablePostalFields(document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c'));
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c').value = item.PostBoxNumber;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c').value = item.LobbyName;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.TownCityMailtown;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.Postcode;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = "New Zealand";                                                                                                                              
                                                }else{
                                                    console.log('Residential');
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = "Residential";
                                                    enablePostalFields(document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c'));
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c').value = item.UnitNumber;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = item.StreetNumber1 + item.StreetNumberSuffix1;
                                                    returnSelectedIndex(document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c'), item.StreetType);
                                                    //j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c option:contains("+ item.StreetType +")").attr('selected', true);
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.TownCityMailtown;                                      
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Pos__c').value = item.StreetName;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c').value = item.Suburb;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.Postcode;
                                                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = "New Zealand";
                                                    
                                                    if(item.AddressType == "RURAL"){
                                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c').value = item.RdNumber;
                                                    }
                                                }
                                            
                                            }
                                        }); 
                                        if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pos__c.Accessible} && {!$ObjectType.Applicant__c.fields.State_Pre__c.Accessible})
                                        disableState();     
                                    }
                                }); 
                                            
                            }                       
                        });
                    
                    
                    }
                });
            }
        
        function DataToolMethod(){
            j$(function() {

            
                j$("input.datatools").each(function(index, callingitem){
             
                    j$(callingitem).DataToolsPredictiveSearchPlugin({
                        SearchType:"DtSearchAddressLinePredictive",
                        DataToolsCloudServer:"{!webServer}",
                        UrlKey1:"{!URLKey}", UrlKey2:"", UrlKey3:"", UrlKey4:"", UrlKey5:"",
                        Layout:"SingleLine",
                        DisplayOnlyCountryCode:"{!brand.Country__c}"
                    }).bind("Selected", function(event, item) {
                        var ws = '';
                        if(item.country_code == 'AU'){
                            ws = 'DtSearchAddressLineAMAS_jsonp';
                        } else if(item.country_code == 'NZ'){
                            ws = 'DtSearchNzAddressLine_jsonp';
                        }

                        j$.ajax({
                            url: "{!webServerWebService}"+ws,
                            dataType: "jsonp",
                            crossDomain: true,
                            data: { AddressLine: item.address_line, LocalityLine: (item.locality + " " + item.state + " " + item.postcode)  ,
                                UrlKey1:"{!URLKey}", UrlKey2:"", UrlKey3:"", UrlKey4:"", UrlKey5:""
                            },
                            success: function (data) {
                                
                                //MLASALA 04-MAY-2016   Fix Pack 10052016 Item 18
                                //Datatools  after selecting the address, the suburb, state & postcode are not copied into the search field. This has regressed.  (AU Only)
                                callingitem.value = item.address_line+' '+item.locality+' '+item.state+' '+item.postcode;
                                
                                j$.map(data.items, function (item) {
                                    //alert('unit number suffix -> '+item.unit_number_suffix+'\n unit number -> '+item.unit_number+'\n street number -> '+item.street_number_1+'\n street number suffix -> '+item.street_number_suffix_1+'\n street number 2 -> '+item.street_number_2+'\n street number 2 suffix -> '+item.street_number_suffix_2+'\n street name -> '+item.street_name+'\n street type -> '+item.street_type+'\n state -> '+item.state+'\n locality -> '+item.locality+'\n postcode -> '+item.postcode+'\n country -> '+item.country+' '+item.country_code);
                                    if(callingitem.id == "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulAdd"){
                                    
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value = item.unit_number;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = item.street_number_1 + item.street_number_suffix_1;
                                        
                                        if(item.street_number_2 != ''){
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = item.street_number_1 + item.street_number_suffix_1 + '-' + item.street_number_2 + item.street_number_suffix_2;                                        
                                        }
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value = item.street_name;
                                        
                                        if(item.country_code == 'AU'){
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value = item.street_type;
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Res__c').value = item.state;                           
                                        } else if(item.country_code == 'NZ'){
                                            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Res__c option:contains("+ item.street_type +")").attr('selected', true);
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Res__c').value = item.state;
                                        }

                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = item.locality;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value = item.postcode;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value = item.country;

                                    } else if (callingitem.id == "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulPAdd") {
                                    
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c').value = item.unit_number;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = item.street_number_1 + item.street_number_suffix_1;
                                        
                                        if(item.street_number_2 != ''){
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = item.street_number_1 + item.street_number_suffix_1 + '-' + item.street_number_2 + item.street_number_suffix_2;                                        
                                        }
                                        
                                        if(item.country_code == 'AU'){
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c').value = item.street_type;
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Pos__c').value = item.state;                                      
                                        } else if(item.country_code == 'NZ'){
                                            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c option:contains("+ item.street_type +")").attr('selected', true);
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.state;
                                            
                                        }

                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Pos__c').value = item.street_name;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c').value = item.locality;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.postcode;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = item.country; 
                                    
                                    } else if (callingitem.id == "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulPreAdd") {
                                       
                                    
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Pre__c').value = item.unit_number;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pre__c').value = item.street_number_1 + item.street_number_suffix_1;
                                        if(item.street_number_2 != ''){
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pre__c').value = item.street_number_1 + item.street_number_suffix_1 + '-' + item.street_number_2 + item.street_number_suffix_2;                                        
                                        }

                                        if(item.country_code == 'AU'){
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Pre__c').value = item.street_type;
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Pre__c').value = item.state;                                      
                                        } else if(item.country_code == 'NZ'){
                                            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pre__c option:contains("+ item.street_type +")").attr('selected', true);
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Pre__c').value = item.state;
                                        }

                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Pre__c').value = item.street_name;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Pre_c').value = item.locality;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Pre__c').value = item.postcode;  
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pre__c').value = item.country;       
                                    
                                    } else if (callingitem.id == "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulAdd") {
                    
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value = item.unit_number;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = item.street_number_1 + item.street_number_suffix_1;
                                        if(item.street_number_2 != ''){
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = item.street_number_1 + item.street_number_suffix_1 + '-' + item.street_number_2 + item.street_number_suffix_2;                                        
                                        }

                                        if(item.country_code == 'AU'){
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value = item.street_type;
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Res__c').value = item.state;                                      
                                        } else if(item.country_code == 'NZ'){
                                            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Res__c option:contains("+ item.street_type +")").attr('selected', true);
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Res__c').value = item.state;
                                            
                                        }

                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value = item.street_name;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = item.locality;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value = item.postcode;   
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value = item.country;

                                    } else if (callingitem.id == "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulPAdd") {
                        

                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c').value = item.unit_number;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = item.street_number_1 + item.street_number_suffix_1;
                                        
                                        if(item.street_number_2 != ''){
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = item.street_number_1 + item.street_number_suffix_1 + '-' + item.street_number_2 + item.street_number_suffix_2;                                        
                                        } 

                                        if(item.country_code == 'AU'){
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c').value = item.street_type;
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Pos__c').value = item.state;                                      
                                        } else if(item.country_code == 'NZ'){
                                            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pos__c option:contains("+ item.street_type +")").attr('selected', true);
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Pos__c').value = item.state;
                                            
                                        }

                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Pos__c').value = item.street_name;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c').value = item.locality;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = item.postcode;  
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = item.country;

                                    } else if (callingitem.id == "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulPreAdd") {
                    

                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Pre__c').value = item.unit_number;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pre__c').value = item.street_number_1 + item.street_number_suffix_1;
                                        
                                        if(item.street_number_2 != ''){
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pre__c').value = item.street_number_1 + item.street_number_suffix_1 + '-' + item.street_number_2 + item.street_number_suffix_2;                                        
                                        }

                                        if(item.country_code == 'AU'){
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Pre__c').value = item.street_type;
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Pre__c').value = item.state;                                      
                                        } else if(item.country_code == 'NZ'){
                                            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Street_Type_Pre__c option:contains("+ item.street_type +")").attr('selected', true);
                                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Pre__c').value = item.state;
                                            
                                        }

                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Pre__c').value = item.street_name;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Pre_c').value = item.locality;
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Pre__c').value = item.postcode; 
                                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pre__c').value = item.country;

                                    }
                                });
                            
                                disableState();
                            }
                        });
                    }); <!-- end jquery DataToolsPredictiveSearchPlugin -->  
                }); <!-- end jquery(input.datatools) -->      
            });  <!-- end jquery function -->      
        }
        function loadBirthdate() {

            var appBirthdate1 = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Date_of_Birth__c').value;
            
            if(appBirthdate1!=null && appBirthdate1!='') {
                if(appBirthdate1.length>=8) {
                    var splitBday1 = appBirthdate1.split("-");
                    if(splitBday1.length==3) {
                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:dd').value = splitBday1[0];
                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:mm').value = splitBday1[1];
                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:yyyy').value = splitBday1[2];
                    }
                }
            }
            if({!JSENCODE(TEXT(applicantList.size))}>1){ //UPDATED 20-AUG-2015 MDAVID - CODE SCAN FIX ADDED JSENCODE
                var appBirthdate2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Date_of_Birth__c').value;
            
                if(appBirthdate2!=null && appBirthdate2!='') {
                    if(appBirthdate2.length>=8) {
                        var splitBday2 = appBirthdate2.split("-");
                        if(splitBday2.length==3) {
                            document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:dd').value = splitBday2[0];
                            document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:mm').value = splitBday2[1];
                            document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:yyyy').value = splitBday2[2];
                        }
                    }
                }
            }
        }

        function enableDriver(){
            if('{!brand.country__c}' == 'AU'){
                var dFlag = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Drivers_Lic_Flg__c');
                var dLic = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Drivers_Lic_No__c');
                var dAst = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:d');
                if(dFlag.checked == true){
                    dLic.value = "";
                    dLic.disabled = true;
                    dAst.style.display = "none";
                }else{
                    dLic.disabled = false;
                    dAst.style.display = "inline-block";
                }
                var appSize = "{!JSENCODE(TEXT(applicantList.size))}"; //UPDATED 20-AUG-2015 MDAVID - CODE SCAN FIX ADDED JSENCODE
                if(appSize == "2"){
                    var dFlag2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Drivers_Lic_Flg__c');
                    var dLic2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Drivers_Lic_No__c');
                    var dAst2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:d');
                        if(dFlag2.checked == true){
                            dLic2.value = "";
                            dLic2.disabled = true;
                            dAst2.style.display = "none";
                        }else{

                            dLic2.disabled = false;
                            dAst2.style.display = "inline-block";
                        }
                }
            }
        }
        function enablePostal(field){
            warningPostalAddress();
            console.log('enablePostal Called');
            var applicant1PostalYes = "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:postalYes";
            var applicant1PostalNo  = "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:postalNo";
            var applicant2PostalYes = "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:postalYes";
            var applicant2PostalNo  = "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:postalNo";
            var applicant1PostalFlag = document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:postalFlag");
            var applicant2PostalFlag = document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:postalFlag");

            if(field.id == applicant1PostalYes || field.id == applicant1PostalNo){
                applicant1PostalFlag.value = field.innerHTML.trim();

                document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:hiddenPostalFlag").value = applicant1PostalFlag.value;
            }
            else if(field.id == applicant2PostalYes || field.id == applicant2PostalNo){
                applicant2PostalFlag.value = field.innerHTML.trim();
                document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:hiddenPostalFlag").value = applicant2PostalFlag.value;
            }
            setPostalFields();
        }
        
        function setPostalFields(){
            var applicant1PostalYes = document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:postalYes");
            var applicant1PostalNo  = document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:postalNo");
            var applicant2PostalYes = document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:postalYes");
            var applicant2PostalNo  = document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:postalNo");
            var applicant1PostalFlag = document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:postalFlag");
            var applicant2PostalFlag = document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:postalFlag");
            var fullAdd = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulAdd').value;
            var unit = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value;
            
            var line = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value;
            var stName = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value;
            var sType = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value;
            var sub = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value;
            var post = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value;
            var state;
            if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible}){
                 state = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Res__c').value;
                 console.log(state);
            }
            var country = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value;
            var property = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value;
     
            if(applicant1PostalFlag.value.trim() == 'Yes'){
                //Commented out by MDAVID - 02/29/2016 TQLQW - 104 Rebranding
                //applicant1PostalYes.className = 'btn btn-large btn-block YesSelected {!buttonStyle}';
                //applicant1PostalNo.className = 'btn btn-large btn-block NoOp';
                applicant1PostalYes.className = 'btn btn-block YesSelected';
                applicant1PostalNo.className = 'btn btn-block NoOp';
                j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:postalPanel").hide();
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulPAdd').value = fullAdd;
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c').value = unit;
                
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = line;
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Pos__c').value = stName;
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c').value = sType;
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c').value = sub;
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = post;
                
                if({!$ObjectType.Applicant__c.fields.State_Pos__c.Accessible}){
                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Pos__c').value = state;
                }
                
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = country;
                //document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postal_Property_Name__c').value = property;

                //Set service delivery type to residential if postal is same as residential
                if('{!brand.country__c}' == 'NZ'){
                    //service delivery type
                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = 'Residential';
            
                    //Town city
                    var town = document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Res__c").value;
                    document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Pos__c").value = town;
                }


              }else if(applicant1PostalFlag.value.trim() == 'No'){
                //Commented out by MDAVID - 02/29/2016 TQLQW - 104 Rebranding
                //applicant1PostalYes.className = 'btn btn-large btn-block YesOp';
                //applicant1PostalNo.className = 'btn btn-large btn-block NoSelected {!buttonStyle}';
                applicant1PostalYes.className = 'btn btn-block YesOp';
                applicant1PostalNo.className = 'btn btn-block NoSelected';
                j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:postalPanel").show();
            }

            var appSize = "{!JSENCODE(TEXT(applicantList.size))}"; //UPDATED 20-AUG-2015 MDAVID - CODE SCAN FIX ADDED JSENCODE
            //For applicant2
            if(appSize == 2){
                var fullAdd2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulAdd').value;
                var unit2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value;
                var line2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value;
                var stName2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value;
                var sType2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value;
                var sub2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value;
                var post2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value;
                if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible})
                    var state2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Res__c').value;
                var country2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value;
                var property2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value;
                
                if(applicant2PostalFlag.value.trim() == 'Yes'){
                    /*Defect-705 - Fixed by MDAVID - 4/21/2016*/
                    applicant2PostalYes.className = 'btn btn-block YesSelected';
                    applicant2PostalNo.className = 'btn btn-block NoOp';
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:postalPanel").hide();
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulPAdd').value = fullAdd2;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Pos__c').value = unit2;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Pos__c').value = line2;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Pos__c').value = stName2;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Pos__c').value = sType2;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c').value = sub2;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Pos__c').value = post2;
                    if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible})
                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Pos__c').value = state2;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pos__c').value = country2;
                      document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postal_Property_Name__c').value = property2;

                    if('{!brand.country__c}' == 'NZ'){
                        //service delivery type
                        document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c').value = 'Residential';
                
                        //Town city
                        var town = document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Res__c").value;
                        document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Pos__c").value = town;

                        enablePostalFields('Residential');
                    }
                
                }else if(applicant2PostalFlag.value.trim() == 'No'){
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:postalPanel").show();
                    /*Defect-705 - Fixed by MDAVID - 4/21/2016*/
                    applicant2PostalYes.className = 'btn btn-block YesOp';
                    applicant2PostalNo.className = 'btn btn-block NoSelected';
                }
            }
            disableState();
        }
        function enablePrevious(){
            var previousTime = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Years_At_Addr__c').value;
            var previousMonths = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Months_At_Addr__c').value;
            if((previousTime == "" || previousTime == null) && previousMonths == ""){
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:previousAddress').style.display = "none";
            }
            else{
                if(previousTime == '0' || previousTime == null || previousTime==''){//Mar-17-2016- Afreen Khan - Userstroy 131 changing Picklist to free txt
                    if(previousMonths != '0'){
                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:previousAddress').style.display = "block";
                    }else{
                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:previousAddress').style.display = "none";
                    }
                }else{
                    if(previousTime < 3 && '{!brand.country__c}' == 'AU'){
                        document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:previousAddress').style.display = "block";
                    }else{
                        if(previousTime < 2 && '{!brand.country__c}' == 'NZ'){
                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:previousAddress').style.display = "block";
                        }else{
                            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:previousAddress').style.display = "none";
                        }
                    }
                }
            }
            
            var appSize = "{!JSENCODE(TEXT(applicantList.size))}"; //UPDATED 20-AUG-2015 MDAVID - CODE SCAN FIX ADDED JSENCODE
            
            if(appSize == 2){
                var previousTime2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Years_At_Addr__c').value;
                var previousMonths2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Months_At_Addr__c').value;
                if((previousTime2 == "" || previousTime2 == null) && previousMonths2 == ""){
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:previousAddress').style.display = "none";
                }
                else{
                    if(previousTime2 == '0' || previousTime2 == null){
                        if(previousMonths2 != '0'){
                            document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:previousAddress').style.display = "block";
                        }else{
                            document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:previousAddress').style.display = "none";
                        }
                    }else{
                        if(previousTime2 < 3 && '{!brand.country__c}' == 'AU'){
                            document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:previousAddress').style.display = "block";
                        }else{
                            if(previousTime2 < 2 && '{!brand.country__c}' == 'NZ'){
                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:previousAddress').style.display = "block";
                            }else{
                                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:previousAddress').style.display = "none";
                            }
                        }
                    }
                }
            }
        }
                    
        j$(window).unbind("beforeunload");        
        
        function isCharacterKey(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode;
            if (charCode <= 32 || charCode == 189 || charCode == 45 || charCode == 39 || ((charCode >= 65 && charCode <= 90) || (charCode >= 97 && charCode <= 122)))
            return true;
            
            return false;
        }
        function isAlphabeticKey(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode;
            if (charCode <= 32 || charCode == 189 || ((charCode >= 65 && charCode <= 90) || (charCode >= 97 && charCode <= 122)))
            return true;
            
            return false;
        }
        function isNumberKey(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode;
            if (charCode != 46 && charCode > 31
              && (charCode < 48 || charCode > 57))
                return false;
            if(charCode == 46) {
                return false
            }
            else{
                return true;
            }
        }
        function isValidMonthNum(){
            console.log($j(this).val());
        }
        function isAlphaNumericKey(evt){
            var charCode = (evt.which) ? evt.which : event.keyCode;
            var isAlpha = isAlphabeticKey(evt);
            var isNumeric = isNumberKey(evt);
            var flag = false;
            if(isAlpha == true || isNumeric == true){
                flag = true;
            }
            return flag;
        }
        function isNumberKeyWithCharLimit(evt, field) {
            var charCode = (evt.which) ? evt.which : event.keyCode;
            if (charCode > 31 && (charCode < 48 || charCode > 57)) return false;
            return true;
        }
        function isFullAddressKey(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode;
            var isNumeric = isNumberKey(evt);
            if ((charCode <= 32 || charCode == 189 || charCode == 47 || ((charCode >= 65 && charCode <= 90) || (charCode >= 97 && charCode <= 122))) || isNumeric == true)
            return true;
            
            return false;
        }
        function checkApplicantFields(action){
            var resResult = true;
            var posResult = true;
            var prevResult = true;
            j$( "#GETemplate\\:GETemplate\\:loanPurpose\\:GETheme\\:mainForm\\:loanPPageBlock\\:loanSave" ).trigger( "click" );
            document.getElementById('GETemplate:GETemplate:mainForm:redirectTxt').value = action;
            var bdaydd1 = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:dd').value;
            var bdaymm1 = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:mm').value;
            var bdayyy1 = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:yyyy').value;
            var workNumber = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Work__c').value;
            var homeNumber = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Home__c').value;

            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Date_of_Birth_WS__c').value = bdayyy1 + '-' + bdaymm1 + '-' + bdaydd1;

            document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Date_of_Birth__c').value = bdaydd1 + '-' + bdaymm1 + '-' + bdayyy1;

            validateDate(bdaydd1+'/'+bdaymm1+'/'+bdayyy1, 'GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Date_of_Birth__c','Primary');

            if(workNumber.length>=8) {
                var workAreaCode = workNumber.substring(0,2);
                var workWS = workNumber.substring(2);
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Work_Area_Code__c').value = workAreaCode;
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Work_WS__c').value = workWS;
            }else if(workNumber == ''){
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Work_Area_Code__c').value = '';
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Work_WS__c').value = '';
            }

            if(homeNumber.length>=8) {
                var homeAreaCode = homeNumber.substring(0,2);
                var homeWS = homeNumber.substring(2);
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Home_Area_Code__c').value = homeAreaCode;
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Home_WS__c').value = homeWS;
            }else if(homeNumber == ''){
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Home_Area_Code__c').value = '';
                document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Home_WS__c').value = '';
            }
            
            // Added by Adrian Recio
            // Populate Postal Property Name on Save of Applicant 1
            try{
                 var serDelType = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c');
                 var propertyName = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postal_Property_Name__c');
                 var serDelId = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c');
                 
                 populatePostalPropertyName(serDelType,propertyName,serDelId);
            }catch(e){
                console.log('Error in Postal Property Name Value Call:' + e);
            }

            
            if({!JSENCODE(TEXT(applicantList.size))}>1){ //UPDATED 20-AUG-2015 MDAVID - CODE SCAN FIX ADDED JSENCODE
                var bdaydd2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:dd').value;
                var bdaymm2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:mm').value;
                var bdayyy2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:yyyy').value;
                var workNumber2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Work__c').value;
                var homeNumber2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Home__c').value;
                
                document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Date_of_Birth_WS__c').value = bdayyy2 + '-' + bdaymm2 + '-' + bdaydd2;

                validateDate(bdaydd2+'/'+bdaymm2+'/'+bdayyy2, 'GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Date_of_Birth__c','Secondary');

                if(workNumber2.length>=8) {
                    var workAreaCode2 = workNumber2.substring(0,2);
                    var workWS2 = workNumber2.substring(2);
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Work_Area_Code__c').value = workAreaCode2;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Work_WS__c').value = workWS2;
                }else if(workNumber2 == ''){
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Work_Area_Code__c').value = '';
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Work_WS__c').value = '';
                }
                
                if(homeNumber2.length>=8) {
                    var homeAreaCode2 = homeNumber2.substring(0,2);
                    var homeWS2 = homeNumber2.substring(2);
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Home_Area_Code__c').value = homeAreaCode2;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Home_WS__c').value = homeWS2;
                }else if(homeNumber2 == ''){
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Home_Area_Code__c').value = '';
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Home_WS__c').value = '';
                }

                // Added by Adrian Recio
                // Populate Postal Property Name on Save of Applicant 2
                try{
                     var serDelType2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c');
                     var propertyName2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postal_Property_Name__c');
                     var serDelId2 = document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c');
                     
                     populatePostalPropertyName(serDelType2,propertyName2,serDelId2);
                }catch(e){
                    console.log('Error in Postal Property Name Value Call:' + e);
                }
            }
            
                validateFields();
                enablePrevious();
            

        }

        function alertWithoutNotice(message){
            setTimeout(function(){
                alert(message);
            }, 1000);
        }

         // Created by Adrian Recio
        // Date: 21/5/2015
        // Description: Method to populate Postal Property Name of Applicant Object
        function populatePostalPropertyName(serDelType,propertyName,serDelId){
            try{
                var serDelIdStr = '';

                if(serDelId !=null){
                  serDelIdStr = serDelId.value;
                }

                if(serDelType.value == 'PO Box'){
                    propertyName.value = 'PO Box ' + serDelIdStr;
                }else if(serDelType.value == 'Private Bag'){
                    propertyName.value = 'Private Bag ' + serDelIdStr;
                }else if(serDelType.value == 'Response Bag'){
                    propertyName.value = 'Response Bag ' + serDelIdStr;
                }else if(serDelType.value == 'Community Mail Box'){
                    propertyName.value = 'CMB ' + serDelIdStr;
                }
            }catch(e){

                console.log('Error in Property Name Population:' + e);
            }

        }
        
        function setGender(sex, field){
            if(field.id == "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:f" ||
               field.id == "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:m"){
                if(sex == 'Male'){
                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:m').className = 'btn btn-block MaleSelected';
                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:f').className = 'btn btn-block Female';
                    //MDAVID
                    //document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:m').className = 'btn btn-large btn-block MaleSelected {!buttonStyle}';
                    //document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:f').className = 'btn btn-large btn-block Female';
                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Gender__c').value = 'Male';
                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Hidden_Applicant__c___Gender__c').value = 'Male';
                } else {
                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:f').className = 'btn btn-block FemaleSelected';
                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:m').className = 'btn btn-block Male';
                    //MDAVID
                    //document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:f').className = 'btn btn-large btn-block FemaleSelected {!buttonStyle}';
                    //document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:m').className = 'btn btn-large btn-block Male';
                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Gender__c').value = 'Female';
                    document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Hidden_Applicant__c___Gender__c').value = 'Female';
                }
            }
            if(field.id == "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:f" || 
               field.id == "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:m"){ 
               if(sex == 'Male'){
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:m').className = 'btn btn-large btn-block MaleSelected {!buttonStyle}';
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:f').className = 'btn btn-large btn-block Female';
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Gender__c').value = 'Male';
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Hidden_Applicant__c___Gender__c').value = 'Male';
                
                    
                } else {
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:f').className = 'btn btn-large btn-block FemaleSelected {!buttonStyle}';
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:m').className = 'btn btn-large btn-block Male';
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Gender__c').value = 'Female';
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Hidden_Applicant__c___Gender__c').value = 'Female';
                }
            }
        }       

        var SECONDS = 60;
        var timeout = "{!TimeOut}";
        var warning = "{!Warning}";  
        var originalTimeOut = timeout;
        var timeoutGap = timeout - warning;
        
        j$(document).ready(function () {
            //Zero the idle timer on mouse movement or keypress.
           j$('#warning').dialog(undefined);
           j$('#warning').dialog().dialog('close');
           
            /** Commenting this section as this need to be mousemove or keypress event **/
            j$(this).mousemove(function (e) {
               timeout = originalTimeOut;
                // j$('#warning').dialog('close');
               });
            j$(this).keypress(function (e) {
                timeout = originalTimeOut;
                //j$('#warning').dialog('close');
            }); 
             
        });  

        function countDown(){
        
            if(timeout <= 0){
                setNavigationFlag("false");
                checkApplicantFields('Timeout');
            } else {
            
                timeout--;
             
                if(timeout == timeoutGap){
                    //alert('Please save your Application before session times out');
                    j$(function() {
                        j$( "#warning" ).dialog({
                          resizable: false,
                          height:180,
                          modal: true,
                          buttons: {
                            "OK": function() {
                              j$( this ).dialog( "close" );                              
                            }
                          }
                        });
                    });
                }
                
                setTimeout("countDown()", 1000);
            }
 
        }
        function delApplicant(){ 
            var r = confirm("Please confirm whether you wish to remove applicant 2 or Cancel to go back to the application.");
            if(r == true){
                deleteApplicant2();
            }                   
            else{
                return false;
            }
        }
            
        function copyAddress(){
            if("{!brand.country__c}" == 'AU'){
                if(document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulAdd').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Res__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value == ''){
                    
                    var fullAdd = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulAdd').value;
                    var unit = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value;
                    var line = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value;
                    var stName = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value;
                    var sType = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value;
                    var sub = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value;
                    var post = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value;
                    var state = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Res__c').value;
                    var country = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value;
                    var property = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value;
                    
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulAdd').value = fullAdd;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value = unit;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = line;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value = stName;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value = sType;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = sub;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value = post;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Res__c').value = state;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value = country;
                    //document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value = property;
                
                
                }
            }

            if("{!brand.country__c}" == 'NZ'){
                if(document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulAdd').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value == ''
                && document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Res__c').value == ''){
                    
                    var fullAdd = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:fulAdd').value;
                    var unit = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value;
                    var line = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value;
                    var stName = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value;
                    var sType = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value;
                    var sub = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value;
                    var post = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value;
                    var country = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value;
                    var property = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value;
                    var city = document.getElementById('GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Res__c').value;
                    
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:fulAdd').value = fullAdd;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Unit_No_Res__c').value = unit;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_No_Res__c').value = line;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Res__c').value = stName;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Type_Res__c').value = sType;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c').value = sub;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Postcode_Res__c').value = post;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c').value = country;
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Res__c').value = city;
                    //document.getElementById('GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Residential_Property_Name__c').value = property;
            
                   
                    setAddressFieldsforNZ();
            
                }
            }
            disableState();
        }
        
        function toggleAddress(callingitem) {
            if(callingitem.id == "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:residentialAddressFinder"){
                j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:yourDetailsPanel2").toggle(500);
            }
            if(callingitem.id == "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:postalAddressFinder"){
                j$('#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:applicantPanel4').toggle(500);
            }
            if(callingitem.id == "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:previousAddressFinder"){
                j$('#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:applicantPanel5').toggle(500);
            }
            if(callingitem.id == "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:residentialAddressFinder"){
                j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:yourDetailsPanel2").toggle(500);
            }
            if(callingitem.id == "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:postalAddressFinder"){
                j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:applicantPanel4").toggle(500);
            }
            if(callingitem.id == "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:previousAddressFinder"){
                j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:applicantPanel5").toggle(500);
            }
           
            disableState();
        }
        
        j$(document).ready(function(){
            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:yourDetailsPanel2").hide();
            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:applicantPanel4").hide();
            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:applicantPanel5").hide();
            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:yourDetailsPanel2").hide();
            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:applicantPanel4").hide();
            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:applicantPanel5").hide();
            if({!isSoftQuoteAddress}){
                j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:yourDetailsPanel2").toggle(500);
           }else{
             j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:yourDetailsPanel2").hide();
            
            }
            //Enable the previous address section 
            if({!isSoftQuoteAddress} && {!preResidentialReq}){
                j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:applicantPanel5").toggle(500);
            }else {
                 j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:applicantPanel5").hide();
            }
            
        });     
            function hidePreviousAddress(){ //added by priyanka for INC1153493
            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:applicantPanel5").hide();
            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:applicantPanel5").hide();

          } 
        function pageRedirect(pageref){
            var callingtile = pageref.value;
            document.getElementById('GETemplate:GETemplate:mainForm:destinationPage').value = callingtile;
            document.getElementById('GETemplate:GETemplate:mainForm:callingPage').value = 'About Me';
            navigate();
        }
        function enablePOBox(){
           
                var PoBox1 = document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___PO_Box__c");
                if(PoBox1.checked == true){
                    //rename Property Name to PO box
                    document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posProperty").innerHTML = "PO Box (e.g. Please enter value as PO Box 123 or GPO Box 123.)";    
                    
                    //hide the unwanted fields
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:pobox").hide();
                    
                }else{
                    document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posProperty").innerHTML = "Property Name (Optional)";
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:pobox").show();
                }
            
            var appSize = "{!JSENCODE(TEXT(applicantList.size))}"; //UPDATED 20-AUG-2015 MDAVID - CODE SCAN FIX ADDED JSENCODE
            if(appSize  > 1){
                var PoBox2 = document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___PO_Box__c");
               if(PoBox2.checked == true){
                   //rename Property Name to PO box
                   document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posProperty").innerHTML = "PO Box (e.g. Please enter value as PO Box 123 or GPO Box 123.)";
                   
                   //hide the unwanted fields
                   j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:pobox").hide();
               }else{
                   document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posProperty").innerHTML = "Property Name";
                   j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:pobox").show();
               }
            }
        }
        function disableState(){
            if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible} || {!$ObjectType.Applicant__c.fields.State_Pos__c.Accessible} || {!$ObjectType.Applicant__c.fields.State_Pre__c.Accessible}){
                var applicant1ResCountry = "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Res__c";
                var applicant1PosCountry = "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pos__c";
                var applicant1PreCountry = "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Country_Pre__c";

                var applicant2ResCountry = "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Res__c";
                var applicant2PosCountry = "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pos__c";
                var applicant2PreCountry = "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Country_Pre__c";

               
                var applicant1ResState = "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Res__c";
                
            
                var applicant1PosState = "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Pos__c";
                
               
                var applicant1PreState = "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___State_Pre__c";
                

                var applicant2ResState = "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Res__c";
                var applicant2PosState = "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Pos__c";
                var applicant2PreState = "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___State_Pre__c";

                var AusText = "Australia";            
                if(document.getElementById(applicant1ResCountry).value == AusText){
                    if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible})
                        document.getElementById(applicant1ResState).disabled = false;
                }else{
                    if({!$ObjectType.Applicant__c.fields.State_Res__c.Accessible}){
                        document.getElementById(applicant1ResState).disabled = true;
                        document.getElementById(applicant1ResState).value = "";
                    }
                }

                if(document.getElementById(applicant1PosCountry).value == AusText){
                    if({!$ObjectType.Applicant__c.fields.State_Pos__c.Accessible})
                        document.getElementById(applicant1PosState).disabled = false;
                }else{
                    if({!$ObjectType.Applicant__c.fields.State_Pos__c.Accessible}){
                        document.getElementById(applicant1PosState).disabled = true;
                        document.getElementById(applicant1PosState).value = "";
                    }
                }

                if(document.getElementById(applicant1PreCountry).value == AusText){
                    if({!$ObjectType.Applicant__c.fields.State_Pre__c.Accessible})
                        document.getElementById(applicant1PreState).disabled = false;
                }
                else{
                    if({!$ObjectType.Applicant__c.fields.State_Pre__c.Accessible}){
                        document.getElementById(applicant1PreState).value = "";
                        document.getElementById(applicant1PreState).disabled = true;
                    }
                }

                var appSize = "{!JSENCODE(TEXT(applicantList.size))}"; //UPDATED 20-AUG-2015 MDAVID - CODE SCAN FIX ADDED JSENCODE
                if(appSize > 1){
                    if(document.getElementById(applicant2ResCountry).value == AusText){
                        document.getElementById(applicant2ResState).disabled = false;
                    }else{
                        document.getElementById(applicant2ResState).disabled = true;
                        document.getElementById(applicant2ResState).value = "";
                    }

                    if(document.getElementById(applicant2PosCountry).value == AusText){
                        document.getElementById(applicant2PosState).disabled = false;
                    }else{
                        document.getElementById(applicant2PosState).disabled = true;
                        document.getElementById(applicant2PosState).value = "";
                    }

                    if(document.getElementById(applicant2PreCountry).value == AusText){
                        document.getElementById(applicant2PreState).disabled = false;
                    }else{
                        document.getElementById(applicant2PreState).disabled = true;
                        document.getElementById(applicant2PreState).value = "";
                    }
                }
            }
        }
        function executeLoad(){
            countDown();
            setPostalFields();
            enablePrevious(); 
            enableDriver();
            loadBirthdate();
            if({!$ObjectType.Applicant__c.fields.PO_Box__c.Accessible})
                enablePOBox();
            
            disableState(); 
            showOtherLoanPurpose();
            prefillVedaEmail(); // Added by RCADAPAN for TQLQW-489 to prefill email field with the email URL parameter from Veda
            if("{!brand.country__c}" == "AU"){
                DataToolMethod();
            }else{
                if("{!brand.country__c}" == "NZ"){
                    DataToolMethodNZ();
                }
            }
            
            if('{!brand.country__c}' == 'NZ'){
                var j$ = jQuery.noConflict();
                //MLASALA 23-SEPT-16 TQLQW-483 Gen 2 App form
                j$('[id*=Applicant__c___Issuing_country__c] option[value=""]').text("Select");
                var idType = document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Customer_ID_Type__c");
                
                //enablePostalFields('');
                
                
                setAddressFieldsforNZ();
                
                handlePreSubmitFields(idType, 'true');
                
                if({!JSENCODE(TEXT(applicantList.size))}>1){ //UPDATED 20-AUG-2015 MDAVID - CODE SCAN FIX ADDED JSENCODE
                    var idType2 = document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Customer_ID_Type__c");
                    handlePreSubmitFields(idType2, 'true'); 
                }
                
            }
            
        } 
        // Added By RCADAPAN for TQLQW-489
        // Pre-fill email field with the email URL parameters from Veda
        function prefillVedaEmail(){
            if("{!$CurrentPage.parameters.email}" != "" && "{!$CurrentPage.parameters.email}" != null && "{!$CurrentPage.parameters.email}" != undefined){
                var resAdd = document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Email_Address__c");
                resAdd.value = "{!$CurrentPage.parameters.email}";
            }
        }
        function hidePostalAddressSection(){
            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:postalPanel").hide(); 
            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:postalPanel").hide();
        }
        function showPostalAddressSection(){
            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:postalPanel").show(); 
            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:postalPanel").show();
        }
        /*  Description: Function used for the header buttons "Save Application" & "Logout"
         *  Author: Jade Serrano
         *  Date Created: 09-APR-2014
         *  Input: None
         *  Return:
         */
        function headerButtons(action){
            var isUserRegistered = '{!isRegistered}';
            //alert(isUserRegistered);
            if(action == 'register'){
                //action function
                headerRegister();
            }else if(action == 'logout'){
                //action function
                //headerLogout();
                //Added by MDAVID - 02-17-2016
                //if(isUserRegistered == 'true'){
                   headerLogout();
            //} else {
              //      headerRegister();
               // }
            }
        }

        /*  Description: Method to validate date format
         *  Author: Mike Lasala
         *  Input: Date of birth
         *  Return: error/compute age
         */
        function validateDate(input, idString, applicant){
            var validformat = /^\d{2}\/\d{2}\/\d{4}$/;  //Basic check for format validity
            var dateValid = false;
            var day = input.split("/")[0];
            var month = input.split("/")[1];
            var year = input.split("/")[2];
            var compiledDate = new Date(year, month-1, day);
            
            //Valid format for Date of Birth field
            var dateText = input.replace(/\//g,'-');

            if (!validformat.test(input)){    //test against date regex
                dateValid = false;
            } 
            else { //Detailed check for valid date ranges
                if ((compiledDate.getMonth()+1!=month)||(compiledDate.getDate()!=day)||(compiledDate.getFullYear()!=year)){
                    dateValid = false;
                }
                else {
                    dateValid = true;
                }
            }
            //Updated by DYU 04-10-15 - comment-out the PRS validation
            /*if (dateValid == false){  //Set to perspecsys err if invalid
                document.getElementById(idString).value = 'ERR8';
            }
            else {
                getAge(compiledDate, dateText, idString, applicant);   //calculate age
            }*/

            //Added by DYU 04-10-15 - check if date is valid
            if (dateValid){  
                getAge(compiledDate, dateText, idString, applicant);   //calculate age
            }
        }

        /*  Description: Method to calculate age
         *  Author: Mike Lasala
         *  Input: Date of birth
         *  Return: error/date of birth
         */
        function getAge(dateString, dateText, idString, applicant){
            var today = new Date();
            var birthDate = new Date(dateString);
            var age = today.getFullYear() - birthDate.getFullYear();
            var m = today.getMonth() - birthDate.getMonth();
            var docGenFormat = dateText.replace(/-/g, "/");
            
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }
            if(applicant == 'Primary'){
                document.getElementById('GETemplate:GETemplate:mainForm:app1Age').value = age;
                document.getElementById('GETemplate:GETemplate:mainForm:app1DBDocGen').value = docGenFormat; 
            }
            else{
                document.getElementById('GETemplate:GETemplate:mainForm:app2Age').value = age;
                document.getElementById('GETemplate:GETemplate:mainForm:app2DBDocGen').value = docGenFormat; 
            }
            //Updated by DYU 04-10-15 - comment-out the PRS validation
            /*if(age < 18){
                document.getElementById(idString).value = 'ERR6';   //Set to perspecsys err if invalid
            }
            else if(age >= 110){
                document.getElementById(idString).value = 'ERR7';   //Set to perspecsys err if invalid
            }
            else {
                document.getElementById(idString).value = dateText;  //Valid age
            }*/
            //Added by DYU 04-10-15 - Change condition to check for valid age
            if(age > 17 && age < 110){
               document.getElementById(idString).value = dateText;  //Valid age 
            }
        }
        window.onbeforeunload = function(e){
            var flag = document.getElementById("GETemplate:GETemplate:mainForm:navflag");
            if(flag.value == false){
                return "Application has not been saved. Do you wish to exit?";
            }
        }
        
        function setNavigationFlag(val){
            document.getElementById("GETemplate:GETemplate:mainForm:navflag").value = val;
        }

        function adjustStyleSheets(){
            var res = document.getElementById("GETemplate:GETemplate:mainForm:loanValid");
            if(res.value == "false"){
                document.getElementById("countIcons").className = "span12 adjustmeicon triggericon";
            }
        }
        function enablePostalFields(val){
            //alert('enable: '+val.value);
            console.log('****val****:'+val);
            var serviceTypeId1 = "GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c";
            var serviceTypeId2 = "GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c";
            //console.log(val.value);
            if((val!=null && val.id == serviceTypeId1) || val == serviceTypeId1){
                var serviceIdName = '';
                var suburbName  = '';
                if(val.value == "PO Box" || val.value == "Community Mail Box" || val.value == "Counter Delivery" || val.value == "Response Bag" || val.value == "Private Bag"){
                        //hide the unwanted fields
                        j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:pobox").hide();
                        j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posProperty").hide();
                        j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Postal_Property_Name__c").hide();
                        j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posServiceId").show();
                        j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Service_Delivery_Id__c").show();
                        
                        // Updated by Adrian Recio
                        // Increased to 12 Characters
                        //document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c").className = 'input-block-level isRequired isMaxLength10';
                        document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c").className = 'input-block-level isRequired isMaxLength12';
                                                
                        if(val.value=="PO Box" || val=="PO Box"){
                            serviceIdName = 'PO box number';
                            // Updated by Adrian Recio
                            // Renamed based on DBHZL - 506
                            // suburbName = 'Box lobby number';
                            suburbName = 'Box lobby';
                            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburbPanel").show();
                            document.getElementById('cityDiv').className = 'span12 input100pct removelmargin';

                            //required fields (Suburb)
                            //document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isRequired isNZAlphaNumericSuburb';

                            document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isMaxLength22 isNZAlphaNumericSuburb';
                        }

                        if(val.value=="Community Mail Box" || val=="Community Mail Box"){
                            serviceIdName = 'CMB number';
                            suburbName = 'Rural delivery number';
                            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburbPanel").show();
                            document.getElementById('cityDiv').className = 'span12 input100pct removelmargin';

                            //optional fields (Suburb)
                            document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isMaxLength22 isNZAlphaNumericSuburb';
                        }

                        if(val.value=="Counter Delivery" || val =="Counter Delivery" ){
                        
                            serviceIdName = 'Counter delivery number';
                            suburbName = 'Post Shop/Post Centre Number';
                            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburbPanel").show();
                            document.getElementById('cityDiv').className = 'span12 removelmargin input100pct';

                            //required fields (Suburb)
                            document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isMaxLength22 isRequired isNZAlphaNumericSuburb';
                        }

                        if(val.value=="Response Bag" || val=="Response Bag"){
                            serviceIdName = 'Response bag number';
                            suburbName = '';
                            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburbPanel").hide();
                            document.getElementById('cityDiv').className = 'span12 removelmargin input100pct';
                            //optional fields (Suburb)
                            document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isMaxLength22 isNZAlphaNumericSuburb';
                        }

                        if(val.value=="Private Bag" || val=="Private Bag"){
                            serviceIdName = 'Private bag number';
                            //suburbName = 'Mail Centre';
                            suburbName = '';

                            // Update By Adrian Recio
                            //j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburbPanel").show();
                            //document.getElementById('cityDiv').className = 'span6';
                            //document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isRequired isNZAlphaNumericSuburb';

                            j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburbPanel").hide();
                            document.getElementById('cityDiv').className = 'span12 removelmargin input100pct';
                            document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isMaxLength22 isNZAlphaNumericSuburb';
                        }

                        document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posServiceId").innerHTML = serviceIdName;
                        //document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c").className = 'input-block-level isRequired';
                        document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posSuburb").innerHTML = suburbName;    
                       
                }else{
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posServiceId").hide();
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Service_Delivery_Id__c").hide();
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:pobox").show();
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posProperty").show();
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Postal_Property_Name__c").show();
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posSuburbPanel").show();
                    document.getElementById('cityDiv').className = 'span12 removelmargin input100pct';
                    document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:posSuburb").innerHTML = 'Suburb/Rural delivery number';
                        
                }
            }
            var appSize = "{!JSENCODE(TEXT(applicantList.size))}"; //UPDATED 20-AUG-2015 MDAVID - CODE SCAN FIX ADDED JSENCODE
            if(appSize > 1){
                 var serviceIdName2 = '';
                var suburbName2 = '';
             if((val!=null && val.id == serviceTypeId2) || val == serviceTypeId2){
                if(val.value == "PO Box" || val.value == "Community Mail Box" || val.value == "Counter Delivery" || val.value == "Response Bag" || val.value == "Private Bag"){
                    //hide the unwanted fields
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:pobox").hide();
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posProperty").hide();
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Postal_Property_Name__c").hide();
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posServiceId").show();
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Service_Delivery_Id__c").show();
                    
                    // Updated by Adrian Recio
                    // Increased to 12 Characters
                    //document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c").className = 'input-block-level isRequired isMaxLength10';
                    document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c").className = 'input-block-level isRequired isMaxLength12';

                    if(val.value=="PO Box" || val=="PO Box"){
                        serviceIdName2 = 'PO box number';

                        // Updated by Adrian Recio
                        // Renamed based on DBHZL - 506
                        // suburbName2 = 'Box lobby number';
                        suburbName2 = 'Box lobby';

                        j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburbPanel").show();
                        document.getElementById('cityDiv2').className = 'span12 removelmargin input100pct';

                        //required fields (Suburb)
                        //document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isRequired isNZAlphaNumericSuburb';

                        document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isMaxLength22 isNZAlphaNumericSuburb';
                    }

                    if(val.value=="Community Mail Box" || val=="Community Mail Box"){
                        serviceIdName2 = 'CMB number';
                        suburbName2 = 'Rural delivery number';
                        j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburbPanel").show();
                        document.getElementById('cityDiv2').className = 'span12 removelmargin input100pct';

                        //optional fields (Suburb)
                        document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isMaxLength22 isNZAlphaNumericSuburb';
                    }

                    if(val.value=="Counter Delivery" || val =="Counter Delivery" ){
                    
                        serviceIdName2 = 'Counter delivery number';
                        suburbName2 = 'Post Shop/Post Centre Number';
                        j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburbPanel").show();
                        document.getElementById('cityDiv2').className = 'span12 removelmargin input100pct';

                        //required fields (Suburb)
                        document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isMaxLength22 isRequired isNZAlphaNumericSuburb';
                    }

                    if(val.value=="Response Bag" || val=="Response Bag"){
                        serviceIdName2 = 'Response bag number';
                        suburbName2 = '';
                        j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburbPanel").hide();
                        document.getElementById('cityDiv2').className = 'span12 removelmargin input100pct';
                        //optional fields (Suburb)
                        document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isMaxLength22 isNZAlphaNumericSuburb';
                    }

                    if(val.value=="Private Bag" || val=="Private Bag"){
                        serviceIdName2 = 'Private bag number';
                        //suburbName2 = 'Mail Centre';
                        suburbName2 = '';

                        // Updated by Adrian Recio
                        //j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburbPanel").show();
                        //document.getElementById('cityDiv2').className = 'span6';
                        //document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isRequired isNZAlphaNumericSuburb';

                        j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburbPanel").hide();
                        document.getElementById('cityDiv2').className = 'span12 removelmargin input100pct';
                        document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isMaxLength22 isNZAlphaNumericSuburb';
                    }



                    document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posServiceId").innerHTML = serviceIdName2;
                    //document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Id__c").className = 'input-block-level isRequired';
                    document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posSuburb").innerHTML = suburbName2;    
                   
                }else{
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posServiceId").hide();
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Service_Delivery_Id__c").hide();
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:pobox").show();
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posProperty").show();
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Postal_Property_Name__c").show();
                    j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posSuburbPanel").show();
                    document.getElementById('cityDiv2').className = 'span12 removelmargin input100pct';
                    document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:posSuburb").innerHTML = 'Suburb/Rural delivery number';
                    }
                }
            }
            
        }
        
        function setAddressFieldsforNZ(){
         
           //Residential Address adn Previous Addresses
           //street
            document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Res__c").className = 'input-block-level isRequired isNZAlphaNumeric isMaxLength15';
            //Town/City
            document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Res__c").className = 'input-block-level isRequired isNZAlphaNumericTown isMaxLength22';
            //Suburb
            document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c").className = 'input-block-level isNZAlphaNumericSuburb isMaxLength22 isRDNumber';

            //Previous street
            document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Pre__c").className = 'input-block-level isRequired isNZAlphaNumeric isMaxLength15';
            //Previous Town/City
            document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Pre__c").className = 'input-block-level isRequired isNZAlphaNumericTown isMaxLength22';
            //Previous Suburb
            document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_Pre_c").className = 'input-block-level isNZAlphaNumericSuburb isMaxLength22 isRDNumber';
              
            //Postal Address

            //Postal street
            document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Street_Pos__c").className = 'input-block-level isRequired isNZAlphaNumeric isMaxLength15';
            //Postal Town/City
            document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___City_Pos__c").className = 'input-block-level isRequired isNZAlphaNumericTown isMaxLength22';
            //Postal Suburb
            document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isNZAlphaNumericSuburb isMaxLength22 isRDNumber';
            
            //updated.  Pass the whole element instead of just the id
            enablePostalFields(document.getElementById("GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c"));

            //j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:posServiceId").hide();
            //j$("#GETemplate\\:GETemplate\\:mainForm\\:applicantPageBlock\\:Applicant__c-1\\:component-1\\:Applicant__c-mycomponent\\:Applicant__c___Service_Delivery_Id__c").hide();
           
            var appSize = "{!JSENCODE(TEXT(applicantList.size))}"; //UPDATED 20-AUG-2015 MDAVID - CODE SCAN FIX ADDED JSENCODE
            if(appSize > 1){
                document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Res__c").className = 'input-block-level isRequired isNZAlphaNumeric isMaxLength15';
                //Town/City
                document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Res__c").className = 'input-block-level isRequired isNZAlphaNumericTown isMaxLength22';
                //Suburb
                document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Res__c").className = 'input-block-level isNZAlphaNumericSuburb isMaxLength22';

                //Previous street
                document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Pre__c").className = 'input-block-level isRequired isNZAlphaNumeric isMaxLength15';
                //Previous Town/City
                document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Pre__c").className = 'input-block-level isRequired isNZAlphaNumericTown isMaxLength22';
                //Previous Suburb
                document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_Pre_c").className = 'input-block-level isNZAlphaNumericSuburb isMaxLength22';
                  
                //Postal Address

                //Postal street
                document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Street_Pos__c").className = 'input-block-level isRequired isNZAlphaNumeric isMaxLength15';
                //Postal Town/City
                document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___City_Pos__c").className = 'input-block-level isRequired isNZAlphaNumericTown isMaxLength22';
                //Postal Suburb
                document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Suburb_pos__c").className = 'input-block-level isNZAlphaNumericSuburb isMaxLength22';
                //j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:posServiceId").hide();
                //j$("#GETemplate\\:GETemplate\\:mainForm\\:applicant2PageBlock\\:Applicant__c-2\\:component-2\\:Applicant__c-mycomponent\\:Applicant__c___Service_Delivery_Id__c").hide();

                ////updated.  Pass the whole element instead of just the id
                enablePostalFields(document.getElementById("GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Service_Delivery_Type__c"));

            }
              
        }
        hidePostalAddressSection();
        executeLoad();
        
        function handlePreSubmitFields(element, onload){
            var applicantNo = '';
            var pageBlockNo = '';
            
            if(element.id == 'GETemplate:GETemplate:mainForm:applicantPageBlock:Applicant__c-1:component-1:Applicant__c-mycomponent:Applicant__c___Customer_ID_Type__c'){
                applicantNo = 1;
            } else if(element.id == 'GETemplate:GETemplate:mainForm:applicant2PageBlock:Applicant__c-2:component-2:Applicant__c-mycomponent:Applicant__c___Customer_ID_Type__c'){
                applicantNo = 2;
                pageBlockNo = 2;
            }
            
            document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___ID_Number__c').className = 'input-block-level isRequired isAlphaNumericOnly isMaxLength16';

            j$('#GETemplate\\:GETemplate\\:mainForm\\:applicant'+pageBlockNo+'PageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:secondaryIdentificationId').hide();

            document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___ID_1__c').value = 'Please Select';

            document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:expirydd').className = 'dobday isPicklistSelect';
            
            document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:expirymm').className = 'dobmonth isPicklistSelect';

            document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:expiryyyyy').className = 'input-block-level dobyear isRequired isNumber isYear';

            if(element.value == 'NZ Driver Licence' || element.value == 'Overseas Passport'){
                j$('#GETemplate\\:GETemplate\\:mainForm\\:applicant'+pageBlockNo+'PageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:amlExtraFields').show();
                
                if(element.value == 'NZ Driver Licence'){
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___ID_Number__c').className = 'input-block-level isRequired isAlphaNumericOnly isMaxLength8 isNZDriverLicense';
                    j$('#GETemplate\\:GETemplate\\:mainForm\\:applicant'+pageBlockNo+'PageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:CustomerIdVersion').show();
                    j$('#GETemplate\\:GETemplate\\:mainForm\\:applicant'+pageBlockNo+'PageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Applicant__c___Version__c').show();
                } else {
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___Version__c').value = '';
                    j$('#GETemplate\\:GETemplate\\:mainForm\\:applicant'+pageBlockNo+'PageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:CustomerIdVersion').hide();
                    j$('#GETemplate\\:GETemplate\\:mainForm\\:applicant'+pageBlockNo+'PageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Applicant__c___Version__c').hide();
                }
            
                if(element.value == 'Overseas Passport'){
                    j$('#GETemplate\\:GETemplate\\:mainForm\\:applicant'+pageBlockNo+'PageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:CustomerIdNZResidencyNumber').show();
                    j$('#GETemplate\\:GETemplate\\:mainForm\\:applicant'+pageBlockNo+'PageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Applicant__c___NZ_Residency_Number__c').show();
                } else {
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___NZ_Residency_Number__c').value = '';
                    j$('#GETemplate\\:GETemplate\\:mainForm\\:applicant'+pageBlockNo+'PageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:CustomerIdNZResidencyNumber').hide();
                    j$('#GETemplate\\:GETemplate\\:mainForm\\:applicant'+pageBlockNo+'PageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:Applicant__c___NZ_Residency_Number__c').hide();
                }
            } else {
                if(element.value == 'NZ Birth Certificate' || element.value == 'NZ Certificate of Citizenship'){
                    j$('#GETemplate\\:GETemplate\\:mainForm\\:applicant'+pageBlockNo+'PageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:secondaryIdentificationId').show();
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___ID_1__c').value = 'SuperGold card with Photo';

                    document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:expirydd').className = '';
            
                document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:expirymm').className = '';

                document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:expiryyyyy').className = 'input-block-level';

                }

                j$('#GETemplate\\:GETemplate\\:mainForm\\:applicant'+pageBlockNo+'PageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:amlExtraFields').hide();
            }
            
            //Removed by DYU 04-08-15 - Defect 696 - Remove the validation on issuing country since it is now converted to picklist field
            /*document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___Issuing_country__c').className = 'input-block-level isName isMaxLength30';*/
            
            if(element.value == 'Australia/Cook Islands/Tokelau/Niue Passport' || element.value == 'Overseas Passport'){
                if(onload == 'false'){
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___Issuing_country__c').value = '';
                }
                
                document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___Issuing_country__c').className = 'input-block-level isRequired';
            } else {
                if(onload == 'false'){
                    document.getElementById('GETemplate:GETemplate:mainForm:applicant'+pageBlockNo+'PageBlock:Applicant__c-'+applicantNo+':component-'+applicantNo+':Applicant__c-mycomponent:Applicant__c___Issuing_country__c').value = 'New Zealand';
                }
            }
            
            if(element.value == 'Other - Certified Documents required'){
                j$('#GETemplate\\:GETemplate\\:mainForm\\:applicant'+pageBlockNo+'PageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:OthertypeMes').show();
            } else {
                j$('#GETemplate\\:GETemplate\\:mainForm\\:applicant'+pageBlockNo+'PageBlock\\:Applicant__c-'+applicantNo+'\\:component-'+applicantNo+'\\:Applicant__c-mycomponent\\:OthertypeMes').hide();
            }
        }
        // Matthew Gould 26/09/2016: Commented out as it's being replaced with permanently displayed text
        // Check that at least one phone number has something in it.
        function checkPhoneNumbersOnEmail(){
            /*if($j(".isMobile").val() == "" && $j(".isHomeNumber").val() == "" && $j(".isWorkNumber").val() == ""){
                $j(".errorphone").text("Either Home, Work or Mobile telephone number must be provided.");
            }
            else{
                $j(".errorphone").text("");
            }*/
        }
        
        function checkPhoneNumbersOnFocus(){
            //$j(".errorphone").text("");
        }
    </script>
    
    
    
    <!-- @title     Design OverRide for APP_JointPersonalDetails VF Page -->
    <!-- @author    gerome.teodosio@cloudsherpas.com                     -->
    <!--            gerome.h.teodosio@Accenture.com                      -->
    
    <!-- Include StylePicker component to fix general brand style issues -->
    <c:APP_GSD_StylePicker />
    
    <!-- Latitude brand styling specific for APP_JointPersonalDetails VF Page -->
    <apex:outputPanel rendered="{!$Site.Name=='Latitude'}">
        <link href="{!URLFOR($Resource.LatitudeIcons, '/LatitudeIcons/lat-iconfix.css')}" rel="stylesheet" />
        <style>
        
            .nav-tabs > li.active > a, .nav-tabs > li.active > a:hover, .nav-tabs > li.active > a:focus {
                background: #3b73b9 !important;
                color: white !important;
            }
            
            .nav-tabs li {
                border: 1px solid #3b73b9;
                width: 50%;
            }
            
            .nav-tabs li.active a {
                border: 0 !important;
                border-radius: 0;
                padding-bottom: 12px;
                width: 100%;
            }
            
            .subpagetitle span {
                margin-bottom: 10px;
            }
            
            .page-personaldetails > h2 {
                margin-top: 0;
            }
            
            .btn.btn-large.btn-block.YesSelected.btn-normalc, 
            .btn.btn-large.btn-block.NoSelected.btn-normalc, 
            .btn-large.YesOp.btn.btn-block, 
            .btn-large.NoOp.btn.btn-block,
            .btn.btn-large.btn-block.Male, 
            .btn.btn-large.btn-block.Female, 
            .btn.btn-large.btn-block.MaleSelected.btn-normalc, 
            .btn.btn-large.btn-block.FemaleSelected.btn-normalc{
                height: 40px;
            }
            
            @media screen and (max-width: 415px) {
                .lp_eligibility {
                    display: none !important;
                }
                
                .GMob-container .GMob-container {
                    width: 100% !important;
                }
            }
            
            @media screen and (min-width: 415px) {
                
                button.btn.btn-large.btn-block.removelmargin {
                    width: 100% !important;
                }
                
                div#countIcons {
                    width: 800px;
                    margin-left: -80px;
                }
                
                .GAdd-02, 
                .GMinus-02 {
                    display: none !important;
                }
                
                #countIcons {
                    display: block !important;
                }
            }
            /*For Iphone 4 and 5*/
            @media screen and (max-width: 320px) and (orientation: portrait) {
                .headertitle {
                    margin-left: 70px;
                }
                .maincontent {
                    padding-left: 0px !important;
                }
            }
            /*For Iphone 6*/
            @media screen and (min-width: 321px) and (max-width: 375px) and (orientation: portrait) {
                .headertitle {
                    margin-left: 85px;
                }
                /*.GMob-container {*/
                /*    margin: 0 5px 3px 0px !important;*/
                /*}*/
                /*.footer-bottom-inner {*/
                /*    padding-left: 0px !important;*/
                /*}*/
                .maincontent {
                    padding-left: 0px !important;
                }
            }
            /*For Iphone 6+*/
            @media screen and (min-width: 376px) and (max-width: 425px) and (orientation: portrait) {
                .headertitle {
                    margin-left: 95px;
                }  
            }
            
        </style>
    </apex:outputPanel>
    
    <!-- Gem brand styling specific for APP_JointPersonalDetails VF Page -->
    <apex:outputPanel rendered="{!$Site.Name=='Gem'}">
        <style>
        
            .nav-tabs li {
                border: 1px solid #4465ad;
                width: 50%;
            }
            
            .nav-tabs li.active a {
                border: 0 !important;
                border-radius: 0;
                padding-bottom: 12px;
                width: 100%;
            }
                
            .nav-tabs > li.active > a, .nav-tabs > li.active > a:hover, .nav-tabs > li.active > a:focus {
                background: #4465ad !important;
                color: white !important;
            }
            
            
            .btn.btn-large.btn-block.removelmargin,
            .MaleSelected,
            .FemaleSelected,
            .btn.btn-large.btn-block.Female,
            .btn.btn-large.btn-block.Male,
            .btn.Female, .btn.Male,
            .btn.btn-large.btn-block.Male, 
            .btn.btn-large.btn-block.Female, 
            .btn.btn-large.btn-block.MaleSelected.btn-normalc, 
            .btn.btn-large.btn-block.FemaleSelected.btn-normalc {
                height: 40px !important;
            }
                    
            @media screen and (max-width: 415px) {
                .lp_eligibility {
                    display: none !important;
                }
                
                .GMob-container .GMob-container {
                    width: 100% !important;
                }
                span.fui-arrow-left {
                    margin-top: 0px;
                    margin-left: 10px;
                }
            }
            
            @media screen and (min-width: 415px) {
                
                button.btn.btn-large.btn-block.removelmargin {
                    width: 100% !important;
                    
                }
                
                div#countIcons {
                    width: 760px;
                    margin-left: -20px;
                }
                
                .sidebar-left {
                    padding-top: 40px !important;
                }
                
                .page-personaldetails h2 {
                    margin-top: 0;
                }
            }
            .minusplusicon.adconad.GAdd-02,
            .minusplusicon.miconad.GMinus-02{
               display: none;
            }
            /*For Iphone 4 and 5*/
            @media screen and (max-width: 320px) and (orientation: portrait) {
                .mv_labelh_adjust1 {
                    margin-bottom: 28px !important;
                }
                .headertitle {
                    margin-left: 50px;
                }
            }
            /*For Iphone 6*/
            @media screen and (min-width: 321px) and (max-width: 375px) and (orientation: portrait) {
                .mv_labelh_adjust1 {
                    margin-bottom: 31px !important;
                }
                .headertitle {
                    margin-left: 70px;
                }
            }
            /*For Iphone 6+*/
            @media screen and (min-width: 376px) and (max-width: 425px) and (orientation: portrait) {
                .headertitle {
                    margin-left: 0px;
                }
                .headertitle {
                    margin-left: 80px;
                }
            }
        </style>
    </apex:outputPanel>
    
    <!-- Aussie brand styling specific for APP_JointPersonalDetails VF Page -->
    <apex:outputPanel rendered="{!$Site.Name=='Aussie'}">
        <link href="{!URLFOR($Resource.LatitudeIcons, '/LatitudeIcons/aussie-iconfix.css')}" rel="stylesheet" />
        <style>
           .header {
                padding: 25px 0px;
            }
            
            .nav-tabs li {
                border: 1px solid #711371;
                width: 50%;
            }
            
            .nav-tabs li.active a {
                border: 0 !important;
                border-radius: 0;
                padding-bottom: 12px;
                width: 100%;
            }
                
            .nav-tabs > li.active > a, .nav-tabs > li.active > a:hover, .nav-tabs > li.active > a:focus {
                background: #711371 !important;
                color: white !important;
            }
            
            .boxlink {
                margin: 2px !important;
            }
            
            select.isGender {
                display: none;
            }
            
            .span6.female label, .span6.male label {
                padding: 10px;
                height: 40px;
            }
            
            .adconad {
                background-image: none;
            }
            
            .YesOp:hover,
            .YesOp{
                background-color: #fff;
                color: #000;
                border: 1px solid #ccc !important;
                font: normal 15px Arial !important;
                text-align: center !important;
            }
            
            .span12.removelmargin > h3.subpagetitle.sptline.gecolor {
                margin-bottom: 10px !important;
            }
            
            .isHiddenPostalFlag {
                display: none !important;
            }
            
            @media screen and (min-width: 415px) {
                .maincontent .maincontent {
                    margin-left: -15px !important;
                }
                
                .row-fluid.header-inner {
                    padding: 0;
                }
                
                header #header.header {
                    padding: 0;
                }
                
                span header #header.header {
                    padding: 25px 0px 0px 0px;
                }
                
                .span8 h2 {
                    margin: 0;
                }
                
                .tablemainlist > span > .span12 {
                    margin-left: 20px !important;
                    text-align: right;
                }
                
                div#countIcons {
                    width: 930px;
                    margin-left: 50px;
                }
                
                .nav-tabs > li.active > a, .nav-tabs > li.active > a:hover, .nav-tabs > li.active > a:focus {
                    background: #711371 !important;
                    color: white !important;
                }
            }
            
            @media screen and (max-width: 415px) {
                .span5.headertitle {
                    margin-left: 0!important;
                }
                
                .header.headbborder {
                    padding: 0;
                }
                
                .personaldetails.span12.removelmargin {
                    width: 100%;
                }
            }
            /*For Iphone 4 and 5*/
            @media screen and (max-width: 320px) and (orientation: portrait) {
                .span5.headertitle {
                    width: 70% !important;
                }
            }
            /*For Iphone 6*/
            @media screen and (min-width: 321px) and (max-width: 375px) and (orientation: portrait) {
                .span5.headertitle {  
                    width: 75% !important;
                }
                .subpagetitle.sptline span {
                    padding-right: 0px;
                    white-space: normal
                }
            }
            /*For Iphone 6+*/
            @media screen and (min-width: 376px) and (max-width: 425px) and (orientation: portrait) {
                .span5.headertitle {
                    width: 75% !important;
                }
                .subpagetitle.sptline span {
                    white-space: normal;
                } 
            }
        </style>
    </apex:outputPanel>
     <script>
     //Better Start
     
                        if("{!$CurrentPage.parameters.subType}" == "betterStart"){
                                        enableLoanPurpose();
                                        loanAmtBSAU();
                                        }
                        function enableLoanPurpose(){
                            var loansize = document.getElementById("GETemplate:GETemplate:loanForm:loanPurposeSize");
                            for(var i=0;i<1;i++){
                              var firstLP = document.getElementById("GETemplate:GETemplate:loanForm:lw:"+i+":component-1:Loan_Purpose__c-mycomponent:Loan_Purpose__c____Value__c").disabled=true;
    
                            }
                            for(var i=1;i<15;i++){
                            //var option = document.getElementById("GETemplate:GETemplate:loanForm:lw:"+i+":component-1:Loan_Purpose__c-mycomponent:Loan_Purpose__c____Value__c");
                           // option.value = 'Please Select';
                            var lpSize = document.getElementById("GETemplate:GETemplate:loanForm:lw:"+i+":component-1:Loan_Purpose__c-mycomponent:Loan_Purpose__c____Value__c").disabled=false;
                           
                            }                        
                        }
                        
                        
                        function loanAmtBSAU(){
                            if("{!$CurrentPage.parameters.subType}" == "betterStart"){
                            if('{!brand.country__c}' == 'AU'){ 
                            var loansize = document.getElementById("GETemplate:GETemplate:loanForm:loanPurposeSize");
                                    for(var i=0;i<1;i++){
                                        var firstLP = document.getElementById("GETemplate:GETemplate:loanForm:lw:"+i+":component-1:Loan_Purpose__c-mycomponent:Loan_Purpose__c____Loan_Amount__c");
                                        var lpValue = document.getElementById("GETemplate:GETemplate:loanForm:lw:"+i+":component-1:Loan_Purpose__c-mycomponent:Loan_Purpose__c____Value__c");
                                        if(firstLP.value < 20000 || lpValue.value != 'Debt consolidation' ){
                                        document.getElementById("demo").style.display = "block";
                                        //document.getElementById("demo").innerHTML = "Better Start loans have a minimum loan amount of $20,000. If this amount meets your needs, please update the loan amount. Alternatively, please select one of our other loan types which you can view at: <a style= 'color:antiquewhite;text-decoration:underline;' href=https://www.latitudefinancial.com.au/loans/>https://www.latitudefinancial.com.au/loans/</a>";                
                                        document.getElementById("demo").innerHTML = "A Better Start Personal Loan must be for Debt Consolidation for $20,000 or more";
                                        return false;
                                        } else if(firstLP.value >= 20000 && lpValue.value == 'Debt consolidation'){
                                        document.getElementById("demo").style.display = "none";
                                        }                       
                                    }   
                                 }                                 
                                else if('{!brand.country__c}' == 'NZ'){
                                    var loansizeNZ = document.getElementById("GETemplate:GETemplate:loanForm:loanPurposeSize");
                                    for(var i=0;i<1;i++){
                                        var firstLPNZ = document.getElementById("GETemplate:GETemplate:loanForm:lw:"+i+":component-1:Loan_Purpose__c-mycomponent:Loan_Purpose__c____Loan_Amount__c");
                                        var lpValueNZ = document.getElementById("GETemplate:GETemplate:loanForm:lw:"+i+":component-1:Loan_Purpose__c-mycomponent:Loan_Purpose__c____Value__c");
                                        if(firstLPNZ.value < 20000 || lpValueNZ.value != 'Consolidation' ){
                                        document.getElementById("demo").style.display = "block";
                                        document.getElementById("demo").innerHTML = "Better Start loans have a minimum loan amount of $20,000. If this amount meets your needs, please update the loan amount. Alternatively, please select one of our other loan types which you can view at: <a style= 'color:antiquewhite;text-decoration:underline;' href=https://www.latitudefinancial.com.au/loans/>https://www.latitudefinancial.com.au/loans/</a>";                
                                        return false;
                                        } else if(firstLPNZ.value >= 20000 && lpValueNZ.value == 'Consolidation'){
                                        document.getElementById("demo").style.display = "none";
                                        }                       
                                    }          
                                }
                                                      
                            } 
                       }             
                        
                        //End
    </script>
   <!-- Hotjar Tracking Code for www.latitudefinancial.com.au -->
        <script>
            (function(h,o,t,j,a,r){
                h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
                h._hjSettings={hjid:826763,hjsv:6};
                a=o.getElementsByTagName('head')[0];
                r=o.createElement('script');r.async=1;
                r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
                a.appendChild(r);
            })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
        </script>
    <!-- Kiwibank brand styling specific for APP_JointPersonalDetails VF Page -->
    <apex:outputPanel rendered="{!$Site.Name=='Kiwibank'}">
        <style>
       
           .nav-tabs > li.active > a, .nav-tabs > li.active > a:hover, .nav-tabs > li.active > a:focus {
                background: #88C83D !important;
                color: white !important;
            }
        
            .span6.female.removelmargin.m_ip5_por_label1, .span6.male {
                border: 1px solid #bdc3c7;
                border-radius: 5px;
            }
            
            .span6.female.removelmargin.m_ip5_por_label1 label, .span6.male label {
                text-align: center !important;
                padding: 12.5px 0px !important;
            }
            
            .nav-tabs li {
                border: 1px solid #88C83D;
                width: 50%;
            }
            
            .nav-tabs li.active a {
                border: 0 !important;
                border-radius: 0;
                padding-bottom: 12px;
                width: 100%;
            }
            
            .yesbutton,
            .nbutton{
                border: 0 !important;
            }
            
            select {
                height: 42px !important;
                margin-top: 4px !important;
                border-radius: 2px !important;
            }
            
            .apexp .pbBody .btn-block.buttonarrowimg,
            .apexp .pbBody .btn-block.buttonarrowimg:hover,
            .btn.btn-block.btn-normalc.buttonarrowimg.GPrimary-button,
            .btn.btn-block.btn-normalc.buttonarrowimg.GPrimary-button:hover {
                text-align: left !important;
                color: white !important;
            }
            
            @media screen and (min-width: 415px) {
                .btn.btn-block.btn-normalc.buttonarrowimg.GPrimary-button {
                    background-color: #88c83d !important;
                    text-align: left;
                }
                    
                .maincontent.sidebar-left.mobileCon.GMob-container {
                    margin-top: 20px;
                }
                
                .boxlink {
                    margin: 2px !important;
                }
                
                .pllabel {
                    width: 90px;
                    text-align: right;
                }
                
                .pllabel label {
                    font-weight: normal;
                }
                
                .inpselfield select {
                    height: 40px !important;
                    margin-top: 5px;
                }
                
                .page-personaldetails h2 {
                    margin-top: 0;
                }
                .btn.btn-block.btn-normalc.buttonarrowimg.GPrimary-button {
                       margin-top: 0;
                       text-align:left !important;
                }
            }
        
    
            @media screen and (max-width: 415px) {
                .row-fluid.marginlftzero {
                    width: 90%;
                    margin: 0 auto !important;
                }
                
                .btn.btn-block.btn-normalc.buttonarrowimg.GPrimary-button {
                    margin-top: -80px;
                }
                
                .span5.headertitle {
                    width: 95% !important;
                }
                
                .maincontent {
                    padding-left: 0px !important;
                }
                
                li.active {
                    background: #88C83D !important;
                }
                
                li.active a {
                    border: 0 !important;
                }
                
                .span6.female.removelmargin.m_ip5_por_label1 label, 
                .span6.male label{
                    margin: 0;
                }
            }
        </style>
        
    </apex:outputPanel>
   
</apex:define>
</apex:composition>
</apex:page>